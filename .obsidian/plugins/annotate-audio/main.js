/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Lo=Object.defineProperty;var Ki=Object.getOwnPropertyDescriptor;var qi=Object.getOwnPropertyNames;var Gi=Object.prototype.hasOwnProperty;var Yi=(e,n)=>{for(var t in n)Lo(e,t,{get:n[t],enumerable:!0})},zi=(e,n,t,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of qi(n))!Gi.call(e,r)&&r!==t&&Lo(e,r,{get:()=>n[r],enumerable:!(o=Ki(n,r))||o.enumerable});return e};var Ji=e=>zi(Lo({},"__esModule",{value:!0}),e);var zc={};Yi(zc,{default:()=>Vo,sourceModal:()=>tn});module.exports=Ji(zc);var He=require("obsidian");function It(e){let n=Object.create(null);for(let t of e.split(","))n[t]=1;return t=>t in n}var q={},Ct=[],Te=()=>{},Mr=()=>!1,Mt=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),an=e=>e.startsWith("onUpdate:"),se=Object.assign,ln=(e,n)=>{let t=e.indexOf(n);t>-1&&e.splice(t,1)},Xi=Object.prototype.hasOwnProperty,j=(e,n)=>Xi.call(e,n),I=Array.isArray,Tt=e=>Hn(e)==="[object Map]",Ln=e=>Hn(e)==="[object Set]";var L=e=>typeof e=="function",te=e=>typeof e=="string",Ue=e=>typeof e=="symbol",X=e=>e!==null&&typeof e=="object",Fo=e=>(X(e)||L(e))&&L(e.then)&&L(e.catch),Lr=Object.prototype.toString,Hn=e=>Lr.call(e),Uo=e=>Hn(e).slice(8,-1),Fn=e=>Hn(e)==="[object Object]",Un=e=>te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lt=It(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");var Bn=e=>{let n=Object.create(null);return t=>n[t]||(n[t]=e(t))},Zi=/-(\w)/g,ve=Bn(e=>e.replace(Zi,(n,t)=>t?t.toUpperCase():"")),Qi=/\B([A-Z])/g,Ye=Bn(e=>e.replace(Qi,"-$1").toLowerCase()),Ot=Bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),cn=Bn(e=>e?`on${Ot(e)}`:""),ze=(e,n)=>!Object.is(e,n),Ht=(e,...n)=>{for(let t=0;t<e.length;t++)e[t](...n)},jn=(e,n,t,o=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:o,value:t})},un=e=>{let n=parseFloat(e);return isNaN(n)?e:n};var Ir,dn=()=>Ir||(Ir=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function rt(e){if(I(e)){let n={};for(let t=0;t<e.length;t++){let o=e[t],r=te(o)?oa(o):rt(o);if(r)for(let s in r)n[s]=r[s]}return n}else if(te(e)||X(e))return e}var ea=/;(?![^(]*\))/g,ta=/:([^]+)/,na=/\/\*[^]*?\*\//g;function oa(e){let n={};return e.replace(na,"").split(ea).forEach(t=>{if(t){let o=t.split(ta);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function A(e){let n="";if(te(e))n=e;else if(I(e))for(let t=0;t<e.length;t++){let o=A(e[t]);o&&(n+=o+" ")}else if(X(e))for(let t in e)e[t]&&(n+=t+" ");return n.trim()}var Hr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fr=It(Hr),ra=It(Hr+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function $n(e){return!!e||e===""}var Ur=e=>!!(e&&e.__v_isRef===!0),oe=e=>te(e)?e:e==null?"":I(e)||X(e)&&(e.toString===Lr||!L(e.toString))?Ur(e)?oe(e.value):JSON.stringify(e,Br,2):String(e),Br=(e,n)=>Ur(n)?Br(e,n.value):Tt(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((t,[o,r],s)=>(t[Ho(o,s)+" =>"]=r,t),{})}:Ln(n)?{[`Set(${n.size})`]:[...n.values()].map(t=>Ho(t))}:Ue(n)?Ho(n):X(n)&&!I(n)&&!Fn(n)?String(n):n,Ho=(e,n="")=>{var t;return Ue(e)?`Symbol(${(t=e.description)!=null?t:n})`:e};function sa(e,...n){console.warn(`[Vue warn] ${e}`,...n)}var Re,hn=class{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Re,!n&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,t;if(this.scopes)for(n=0,t=this.scopes.length;n<t;n++)this.scopes[n].pause();for(n=0,t=this.effects.length;n<t;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,t;if(this.scopes)for(n=0,t=this.scopes.length;n<t;n++)this.scopes[n].resume();for(n=0,t=this.effects.length;n<t;n++)this.effects[n].resume()}}run(n){if(this._active){let t=Re;try{return Re=this,n()}finally{Re=t}}}on(){Re=this}off(){Re=this.parent}stop(n){if(this._active){this._active=!1;let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(this.effects.length=0,t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){let r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}};function Wr(){return Re}var Z;var Bo=new WeakSet,Ut=class{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Re&&Re.active&&Re.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bo.has(this)&&(Bo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jr(this),Gr(this);let n=Z,t=Be;Z=this,Be=!0;try{return this.fn()}finally{Yr(this),Z=n,Be=t,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)tr(n);this.deps=this.depsTail=void 0,jr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wo(this)&&this.run()}get dirty(){return Wo(this)}},Kr=0,pn,mn;function qr(e,n=!1){if(e.flags|=8,n){e.next=mn,mn=e;return}e.next=pn,pn=e}function Qo(){Kr++}function er(){if(--Kr>0)return;if(mn){let n=mn;for(mn=void 0;n;){let t=n.next;n.next=void 0,n.flags&=-9,n=t}}let e;for(;pn;){let n=pn;for(pn=void 0;n;){let t=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(o){e||(e=o)}n=t}}if(e)throw e}function Gr(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function Yr(e){let n,t=e.depsTail,o=t;for(;o;){let r=o.prevDep;o.version===-1?(o===t&&(t=r),tr(o),ia(o)):n=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=n,e.depsTail=t}function Wo(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(zr(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function zr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===gn))return;e.globalVersion=gn;let n=e.dep;if(e.flags|=2,n.version>0&&!e.isSSR&&e.deps&&!Wo(e)){e.flags&=-3;return}let t=Z,o=Be;Z=e,Be=!0;try{Gr(e);let r=e.fn(e._value);(n.version===0||ze(r,e._value))&&(e._value=r,n.version++)}catch(r){throw n.version++,r}finally{Z=t,Be=o,Yr(e),e.flags&=-3}}function tr(e,n=!1){let{dep:t,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),t.subs===e&&(t.subs=o,!o&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)tr(s,!0)}!n&&!--t.sc&&t.map&&t.map.delete(t.key)}function ia(e){let{prevDep:n,nextDep:t}=e;n&&(n.nextDep=t,e.prevDep=void 0),t&&(t.prevDep=n,e.nextDep=void 0)}var Be=!0,Jr=[];function at(){Jr.push(Be),Be=!1}function lt(){let e=Jr.pop();Be=e===void 0?!0:e}function jr(e){let{cleanup:n}=e;if(e.cleanup=void 0,n){let t=Z;Z=void 0;try{n()}finally{Z=t}}}var gn=0,Ko=class{constructor(n,t){this.sub=n,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},_n=class{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!Z||!Be||Z===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Z)t=this.activeLink=new Ko(Z,this),Z.deps?(t.prevDep=Z.depsTail,Z.depsTail.nextDep=t,Z.depsTail=t):Z.deps=Z.depsTail=t,Xr(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let o=t.nextDep;o.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=o),t.prevDep=Z.depsTail,t.nextDep=void 0,Z.depsTail.nextDep=t,Z.depsTail=t,Z.deps===t&&(Z.deps=o)}return t}trigger(n){this.version++,gn++,this.notify(n)}notify(n){Qo();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{er()}}};function Xr(e){if(e.dep.sc++,e.sub.flags&4){let n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let o=n.deps;o;o=o.nextDep)Xr(o)}let t=e.dep.subs;t!==e&&(e.prevSub=t,t&&(t.nextSub=e)),e.dep.subs=e}}var qo=new WeakMap,St=Symbol(""),Go=Symbol(""),yn=Symbol("");function he(e,n,t){if(Be&&Z){let o=qo.get(e);o||qo.set(e,o=new Map);let r=o.get(t);r||(o.set(t,r=new _n),r.map=o,r.key=t),r.track()}}function Je(e,n,t,o,r,s){let i=qo.get(e);if(!i){gn++;return}let a=l=>{l&&l.trigger()};if(Qo(),n==="clear")i.forEach(a);else{let l=I(e),f=l&&Un(t);if(l&&t==="length"){let d=Number(o);i.forEach((p,g)=>{(g==="length"||g===yn||!Ue(g)&&g>=d)&&a(p)})}else switch((t!==void 0||i.has(void 0))&&a(i.get(t)),f&&a(i.get(yn)),n){case"add":l?f&&a(i.get("length")):(a(i.get(St)),Tt(e)&&a(i.get(Go)));break;case"delete":l||(a(i.get(St)),Tt(e)&&a(i.get(Go)));break;case"set":Tt(e)&&a(i.get(St));break}}er()}function Ft(e){let n=$(e);return n===e?n:(he(n,"iterate",yn),Oe(e)?n:n.map(ge))}function vn(e){return he(e=$(e),"iterate",yn),e}var aa={__proto__:null,[Symbol.iterator](){return jo(this,Symbol.iterator,ge)},concat(...e){return Ft(this).concat(...e.map(n=>I(n)?Ft(n):n))},entries(){return jo(this,"entries",e=>(e[1]=ge(e[1]),e))},every(e,n){return st(this,"every",e,n,void 0,arguments)},filter(e,n){return st(this,"filter",e,n,t=>t.map(ge),arguments)},find(e,n){return st(this,"find",e,n,ge,arguments)},findIndex(e,n){return st(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return st(this,"findLast",e,n,ge,arguments)},findLastIndex(e,n){return st(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return st(this,"forEach",e,n,void 0,arguments)},includes(...e){return $o(this,"includes",e)},indexOf(...e){return $o(this,"indexOf",e)},join(e){return Ft(this).join(e)},lastIndexOf(...e){return $o(this,"lastIndexOf",e)},map(e,n){return st(this,"map",e,n,void 0,arguments)},pop(){return fn(this,"pop")},push(...e){return fn(this,"push",e)},reduce(e,...n){return $r(this,"reduce",e,n)},reduceRight(e,...n){return $r(this,"reduceRight",e,n)},shift(){return fn(this,"shift")},some(e,n){return st(this,"some",e,n,void 0,arguments)},splice(...e){return fn(this,"splice",e)},toReversed(){return Ft(this).toReversed()},toSorted(e){return Ft(this).toSorted(e)},toSpliced(...e){return Ft(this).toSpliced(...e)},unshift(...e){return fn(this,"unshift",e)},values(){return jo(this,"values",ge)}};function jo(e,n,t){let o=vn(e),r=o[n]();return o!==e&&!Oe(e)&&(r._next=r.next,r.next=()=>{let s=r._next();return s.value&&(s.value=t(s.value)),s}),r}var la=Array.prototype;function st(e,n,t,o,r,s){let i=vn(e),a=i!==e&&!Oe(e),l=i[n];if(l!==la[n]){let p=l.apply(e,s);return a?ge(p):p}let f=t;i!==e&&(a?f=function(p,g){return t.call(this,ge(p),g,e)}:t.length>2&&(f=function(p,g){return t.call(this,p,g,e)}));let d=l.call(i,f,o);return a&&r?r(d):d}function $r(e,n,t,o){let r=vn(e),s=t;return r!==e&&(Oe(e)?t.length>3&&(s=function(i,a,l){return t.call(this,i,a,l,e)}):s=function(i,a,l){return t.call(this,i,ge(a),l,e)}),r[n](s,...o)}function $o(e,n,t){let o=$(e);he(o,"iterate",yn);let r=o[n](...t);return(r===-1||r===!1)&&En(t[0])?(t[0]=$(t[0]),o[n](...t)):r}function fn(e,n,t=[]){at(),Qo();let o=$(e)[n].apply(e,t);return er(),lt(),o}var ca=It("__proto__,__v_isRef,__isVue"),Zr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ue));function ua(e){Ue(e)||(e=String(e));let n=$(this);return he(n,"has",e),n.hasOwnProperty(e)}var Gn=class{constructor(n=!1,t=!1){this._isReadonly=n,this._isShallow=t}get(n,t,o){if(t==="__v_skip")return n.__v_skip;let r=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return s;if(t==="__v_raw")return o===(r?s?va:ts:s?es:Qr).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(o)?n:void 0;let i=I(n);if(!r){let l;if(i&&(l=aa[t]))return l;if(t==="hasOwnProperty")return ua}let a=Reflect.get(n,t,ce(n)?n:o);return(Ue(t)?Zr.has(t):ca(t))||(r||he(n,"get",t),s)?a:ce(a)?i&&Un(t)?a:a.value:X(a)?r?rr(a):ht(a):a}},Yn=class extends Gn{constructor(n=!1){super(!1,n)}set(n,t,o,r){let s=n[t];if(!this._isShallow){let l=it(s);if(!Oe(o)&&!it(o)&&(s=$(s),o=$(o)),!I(n)&&ce(s)&&!ce(o))return l?!1:(s.value=o,!0)}let i=I(n)&&Un(t)?Number(t)<n.length:j(n,t),a=Reflect.set(n,t,o,ce(n)?n:r);return n===$(r)&&(i?ze(o,s)&&Je(n,"set",t,o,s):Je(n,"add",t,o)),a}deleteProperty(n,t){let o=j(n,t),r=n[t],s=Reflect.deleteProperty(n,t);return s&&o&&Je(n,"delete",t,void 0,r),s}has(n,t){let o=Reflect.has(n,t);return(!Ue(t)||!Zr.has(t))&&he(n,"has",t),o}ownKeys(n){return he(n,"iterate",I(n)?"length":St),Reflect.ownKeys(n)}},Yo=class extends Gn{constructor(n=!1){super(!0,n)}set(n,t){return!0}deleteProperty(n,t){return!0}},da=new Yn,fa=new Yo,pa=new Yn(!0);var zo=e=>e,Wn=e=>Reflect.getPrototypeOf(e);function ma(e,n,t){return function(...o){let r=this.__v_raw,s=$(r),i=Tt(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,f=r[e](...o),d=t?zo:n?Jo:ge;return!n&&he(s,"iterate",l?Go:St),{next(){let{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:a?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function Kn(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function ha(e,n){let t={get(r){let s=this.__v_raw,i=$(s),a=$(r);e||(ze(r,a)&&he(i,"get",r),he(i,"get",a));let{has:l}=Wn(i),f=n?zo:e?Jo:ge;if(l.call(i,r))return f(s.get(r));if(l.call(i,a))return f(s.get(a));s!==i&&s.get(r)},get size(){let r=this.__v_raw;return!e&&he($(r),"iterate",St),Reflect.get(r,"size",r)},has(r){let s=this.__v_raw,i=$(s),a=$(r);return e||(ze(r,a)&&he(i,"has",r),he(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){let i=this,a=i.__v_raw,l=$(a),f=n?zo:e?Jo:ge;return!e&&he(l,"iterate",St),a.forEach((d,p)=>r.call(s,f(d),f(p),i))}};return se(t,e?{add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear")}:{add(r){!n&&!Oe(r)&&!it(r)&&(r=$(r));let s=$(this);return Wn(s).has.call(s,r)||(s.add(r),Je(s,"add",r,r)),this},set(r,s){!n&&!Oe(s)&&!it(s)&&(s=$(s));let i=$(this),{has:a,get:l}=Wn(i),f=a.call(i,r);f||(r=$(r),f=a.call(i,r));let d=l.call(i,r);return i.set(r,s),f?ze(s,d)&&Je(i,"set",r,s,d):Je(i,"add",r,s),this},delete(r){let s=$(this),{has:i,get:a}=Wn(s),l=i.call(s,r);l||(r=$(r),l=i.call(s,r));let f=a?a.call(s,r):void 0,d=s.delete(r);return l&&Je(s,"delete",r,void 0,f),d},clear(){let r=$(this),s=r.size!==0,i=void 0,a=r.clear();return s&&Je(r,"clear",void 0,void 0,i),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ma(r,e,n)}),t}function nr(e,n){let t=ha(e,n);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(j(t,r)&&r in o?t:o,r,s)}var ga={get:nr(!1,!1)},_a={get:nr(!1,!0)},ya={get:nr(!0,!1)};var Qr=new WeakMap,es=new WeakMap,ts=new WeakMap,va=new WeakMap;function Ea(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ba(e){return e.__v_skip||!Object.isExtensible(e)?0:Ea(Uo(e))}function ht(e){return it(e)?e:sr(e,!1,da,ga,Qr)}function or(e){return sr(e,!1,pa,_a,es)}function rr(e){return sr(e,!0,fa,ya,ts)}function sr(e,n,t,o,r){if(!X(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;let s=r.get(e);if(s)return s;let i=ba(e);if(i===0)return e;let a=new Proxy(e,i===2?o:t);return r.set(e,a),a}function mt(e){return it(e)?mt(e.__v_raw):!!(e&&e.__v_isReactive)}function it(e){return!!(e&&e.__v_isReadonly)}function Oe(e){return!!(e&&e.__v_isShallow)}function En(e){return e?!!e.__v_raw:!1}function $(e){let n=e&&e.__v_raw;return n?$(n):e}function ir(e){return!j(e,"__v_skip")&&Object.isExtensible(e)&&jn(e,"__v_skip",!0),e}var ge=e=>X(e)?ht(e):e,Jo=e=>X(e)?rr(e):e;function ce(e){return e?e.__v_isRef===!0:!1}function R(e){return ns(e,!1)}function ar(e){return ns(e,!0)}function ns(e,n){return ce(e)?e:new Xo(e,n)}var Xo=class{constructor(n,t){this.dep=new _n,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?n:$(n),this._value=t?n:ge(n),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(n){let t=this._rawValue,o=this.__v_isShallow||Oe(n)||it(n);n=o?n:$(n),ze(n,t)&&(this._rawValue=n,this._value=o?n:ge(n),this.dep.trigger())}};function lr(e){return ce(e)?e.value:e}var Na={get:(e,n,t)=>n==="__v_raw"?e:lr(Reflect.get(e,n,t)),set:(e,n,t,o)=>{let r=e[n];return ce(r)&&!ce(t)?(r.value=t,!0):Reflect.set(e,n,t,o)}};function Jn(e){return mt(e)?e:new Proxy(e,Na)}var Zo=class{constructor(n,t,o){this.fn=n,this.setter=t,this._value=void 0,this.dep=new _n(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Z!==this)return qr(this,!0),!0}get value(){let n=this.dep.track();return zr(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}};function os(e,n,t=!1){let o,r;return L(e)?o=e:(o=e.get,r=e.set),new Zo(o,r,t)}var qn={},zn=new WeakMap,xt;function rs(e,n=!1,t=xt){if(t){let o=zn.get(t);o||zn.set(t,o=[]),o.push(e)}}function ss(e,n,t=q){let{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=t,f=O=>{(t.onWarn||sa)("Invalid watch source: ",O,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=O=>r?O:Oe(O)||r===!1||r===0?Xe(O,1):Xe(O),p,g,E,H,M=!1,k=!1;if(ce(e)?(g=()=>e.value,M=Oe(e)):mt(e)?(g=()=>d(e),M=!0):I(e)?(k=!0,M=e.some(O=>mt(O)||Oe(O)),g=()=>e.map(O=>{if(ce(O))return O.value;if(mt(O))return d(O);if(L(O))return l?l(O,2):O()})):L(e)?n?g=l?()=>l(e,2):e:g=()=>{if(E){at();try{E()}finally{lt()}}let O=xt;xt=p;try{return l?l(e,3,[H]):e(H)}finally{xt=O}}:g=Te,n&&r){let O=g,W=r===!0?1/0:r;g=()=>Xe(O(),W)}let x=Wr(),S=()=>{p.stop(),x&&x.active&&ln(x.effects,p)};if(s&&n){let O=n;n=(...W)=>{O(...W),S()}}let F=k?new Array(e.length).fill(qn):qn,Y=O=>{if(!(!(p.flags&1)||!p.dirty&&!O))if(n){let W=p.run();if(r||M||(k?W.some((le,re)=>ze(le,F[re])):ze(W,F))){E&&E();let le=xt;xt=p;try{let re=[W,F===qn?void 0:k&&F[0]===qn?[]:F,H];l?l(n,3,re):n(...re),F=W}finally{xt=le}}}else p.run()};return a&&a(Y),p=new Ut(g),p.scheduler=i?()=>i(Y,!1):Y,H=O=>rs(O,!1,p),E=p.onStop=()=>{let O=zn.get(p);if(O){if(l)l(O,4);else for(let W of O)W();zn.delete(p)}},n?o?Y(!0):F=p.run():i?i(Y.bind(null,!0),!0):p.run(),S.pause=p.pause.bind(p),S.resume=p.resume.bind(p),S.stop=S,S}function Xe(e,n=1/0,t){if(n<=0||!X(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),n--,ce(e))Xe(e.value,n,t);else if(I(e))for(let o=0;o<e.length;o++)Xe(e[o],n,t);else if(Ln(e)||Tt(e))e.forEach(o=>{Xe(o,n,t)});else if(Fn(e)){for(let o in e)Xe(e[o],n,t);for(let o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Xe(e[o],n,t)}return e}function An(e,n,t,o){try{return o?e(...o):e()}catch(r){so(r,n,t)}}function je(e,n,t,o){if(L(e)){let r=An(e,n,t,o);return r&&Fo(r)&&r.catch(s=>{so(s,n,t)}),r}if(I(e)){let r=[];for(let s=0;s<e.length;s++)r.push(je(e[s],n,t,o));return r}}function so(e,n,t,o=!0){let r=n?n.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=n&&n.appContext.config||q;if(n){let a=n.parent,l=n.proxy,f=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){let d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,l,f)===!1)return}a=a.parent}if(s){at(),An(s,null,10,[e,l,f]),lt();return}}Ta(e,t,r,o,i)}function Ta(e,n,t,o=!0,r=!1){if(r)throw e;console.error(e)}var Ce=[],Qe=-1,jt=[],gt=null,Bt=0,Es=Promise.resolve(),eo=null;function io(e){let n=eo||Es;return e?n.then(this?e.bind(this):e):n}function Oa(e){let n=Qe+1,t=Ce.length;for(;n<t;){let o=n+t>>>1,r=Ce[o],s=On(r);s<e||s===e&&r.flags&2?n=o+1:t=o}return n}function _r(e){if(!(e.flags&1)){let n=On(e),t=Ce[Ce.length-1];!t||!(e.flags&2)&&n>=On(t)?Ce.push(e):Ce.splice(Oa(n),0,e),e.flags|=1,bs()}}function bs(){eo||(eo=Es.then(Cs))}function Ns(e){I(e)?jt.push(...e):gt&&e.id===-1?gt.splice(Bt+1,0,e):e.flags&1||(jt.push(e),e.flags|=1),bs()}function is(e,n,t=Qe+1){for(;t<Ce.length;t++){let o=Ce[t];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ce.splice(t,1),t--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function ws(e){if(jt.length){let n=[...new Set(jt)].sort((t,o)=>On(t)-On(o));if(jt.length=0,gt){gt.push(...n);return}for(gt=n,Bt=0;Bt<gt.length;Bt++){let t=gt[Bt];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}gt=null,Bt=0}}var On=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Cs(e){let n=Te;try{for(Qe=0;Qe<Ce.length;Qe++){let t=Ce[Qe];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),An(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Qe<Ce.length;Qe++){let t=Ce[Qe];t&&(t.flags&=-2)}Qe=-1,Ce.length=0,ws(e),eo=null,(Ce.length||jt.length)&&Cs(e)}}var xe=null,Ts=null;function to(e){let n=xe;return xe=e,Ts=e&&e.type.__scopeId||null,n}function xa(e,n=xe,t){if(!n||e._n)return e;let o=(...r)=>{o._d&&hs(-1);let s=to(n),i;try{i=e(...r)}finally{to(s),o._d&&hs(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Ie(e,n){if(xe===null)return e;let t=po(xe),o=e.dirs||(e.dirs=[]);for(let r=0;r<n.length;r++){let[s,i,a,l=q]=n[r];s&&(L(s)&&(s={mounted:s,updated:s}),s.deep&&Xe(i),o.push({dir:s,instance:t,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function At(e,n,t,o){let r=e.dirs,s=n&&n.dirs;for(let i=0;i<r.length;i++){let a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(at(),je(l,t,8,[e.el,a,e,n]),lt())}}var Sa=Symbol("_vte"),Aa=e=>e.__isTeleport;var Ou=Symbol("_leaveCb"),xu=Symbol("_enterCb");function ao(e,n){e.shapeFlag&6&&e.component?(e.transition=n,ao(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function de(e,n){return L(e)?se({name:e.name},n,{setup:e}):e}function Os(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function xs(e){let n=ni(),t=ar(null);if(n){let r=n.refs===q?n.refs={}:n.refs,s;Object.defineProperty(r,e,{enumerable:!0,get:()=>t.value,set:i=>t.value=i})}return t}function no(e,n,t,o,r=!1){if(I(e)){e.forEach((H,M)=>no(H,n&&(I(n)?n[M]:n),t,o,r));return}if(wn(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&no(e,n,t,o.component.subTree);return}let s=o.shapeFlag&4?po(o.component):o.el,i=r?null:s,{i:a,r:l}=e,f=n&&n.r,d=a.refs===q?a.refs={}:a.refs,p=a.setupState,g=$(p),E=p===q?()=>!1:H=>j(g,H);if(f!=null&&f!==l&&(te(f)?(d[f]=null,E(f)&&(p[f]=null)):ce(f)&&(f.value=null)),L(l))An(l,a,12,[i,d]);else{let H=te(l),M=ce(l);if(H||M){let k=()=>{if(e.f){let x=H?E(l)?p[l]:d[l]:l.value;r?I(x)&&ln(x,s):I(x)?x.includes(s)||x.push(s):H?(d[l]=[s],E(l)&&(p[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else H?(d[l]=i,E(l)&&(p[l]=i)):M&&(l.value=i,e.k&&(d[e.k]=i))};i?(k.id=-1,Ve(k,t)):k()}}}var Su=dn().requestIdleCallback||(e=>setTimeout(e,1)),Au=dn().cancelIdleCallback||(e=>clearTimeout(e));var wn=e=>!!e.type.__asyncLoader;var Ss=e=>e.type.__isKeepAlive;function Da(e,n){As(e,"a",n)}function Ra(e,n){As(e,"da",n)}function As(e,n,t=_e){let o=e.__wdc||(e.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(lo(n,o,t),t){let r=t.parent;for(;r&&r.parent;)Ss(r.parent.vnode)&&Va(o,n,t,r),r=r.parent}}function Va(e,n,t,o){let r=lo(n,e,o,!0);vr(()=>{ln(o[n],r)},t)}function lo(e,n,t=_e,o=!1){if(t){let r=t[e]||(t[e]=[]),s=n.__weh||(n.__weh=(...i)=>{at();let a=Rn(t),l=je(n,t,e,i);return a(),lt(),l});return o?r.unshift(s):r.push(s),s}}var ct=e=>(n,t=_e)=>{(!Sn||e==="sp")&&lo(e,(...o)=>n(...o),t)},yr=ct("bm"),ae=ct("m"),Ds=ct("bu"),Rs=ct("u"),$e=ct("bum"),vr=ct("um"),ka=ct("sp"),Pa=ct("rtg"),Ia=ct("rtc");function Ma(e,n=_e){lo("ec",e,n)}var Vs="components";var ks=Symbol.for("v-ndc");function Ps(e){return te(e)?La(Vs,e,!1)||e:e||ks}function La(e,n,t=!0,o=!1){let r=xe||_e;if(r){let s=r.type;if(e===Vs){let a=Cl(s,!1);if(a&&(a===n||a===ve(n)||a===Ot(ve(n))))return s}let i=as(r[e]||s[e],n)||as(r.appContext[e],n);return!i&&o?s:i}}function as(e,n){return e&&(e[n]||e[ve(n)]||e[Ot(ve(n))])}function co(e,n,t,o){let r,s=t&&t[o],i=I(e);if(i||te(e)){let a=i&&mt(e),l=!1;a&&(l=!Oe(e),e=vn(e)),r=new Array(e.length);for(let f=0,d=e.length;f<d;f++)r[f]=n(l?ge(e[f]):e[f],f,void 0,s&&s[f])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=n(a+1,a,void 0,s&&s[a])}else if(X(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>n(a,l,void 0,s&&s[l]));else{let a=Object.keys(e);r=new Array(a.length);for(let l=0,f=a.length;l<f;l++){let d=a[l];r[l]=n(e[d],d,l,s&&s[l])}}else r=[];return t&&(t[o]=r),r}var fr=e=>e?oi(e)?po(e):fr(e.parent):null,Cn=se(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fr(e.parent),$root:e=>fr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Er(e),$forceUpdate:e=>e.f||(e.f=()=>{_r(e.update)}),$nextTick:e=>e.n||(e.n=io.bind(e.proxy)),$watch:e=>sl.bind(e)});var cr=(e,n)=>e!==q&&!e.__isScriptSetup&&j(e,n),Ha={get({_:e},n){if(n==="__v_skip")return!0;let{ctx:t,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=e,f;if(n[0]!=="$"){let E=i[n];if(E!==void 0)switch(E){case 1:return o[n];case 2:return r[n];case 4:return t[n];case 3:return s[n]}else{if(cr(o,n))return i[n]=1,o[n];if(r!==q&&j(r,n))return i[n]=2,r[n];if((f=e.propsOptions[0])&&j(f,n))return i[n]=3,s[n];if(t!==q&&j(t,n))return i[n]=4,t[n];pr&&(i[n]=0)}}let d=Cn[n],p,g;if(d)return n==="$attrs"&&he(e.attrs,"get",""),d(e);if((p=a.__cssModules)&&(p=p[n]))return p;if(t!==q&&j(t,n))return i[n]=4,t[n];if(g=l.config.globalProperties,j(g,n))return g[n]},set({_:e},n,t){let{data:o,setupState:r,ctx:s}=e;return cr(r,n)?(r[n]=t,!0):o!==q&&j(o,n)?(o[n]=t,!0):j(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(s[n]=t,!0)},has({_:{data:e,setupState:n,accessCache:t,ctx:o,appContext:r,propsOptions:s}},i){let a;return!!t[i]||e!==q&&j(e,i)||cr(n,i)||(a=s[0])&&j(a,i)||j(o,i)||j(Cn,i)||j(r.config.globalProperties,i)},defineProperty(e,n,t){return t.get!=null?e._.accessCache[n]=0:j(t,"value")&&this.set(e,n,t.value,null),Reflect.defineProperty(e,n,t)}};function ls(e){return I(e)?e.reduce((n,t)=>(n[t]=null,n),{}):e}var pr=!0;function Fa(e){let n=Er(e),t=e.proxy,o=e.ctx;pr=!1,n.beforeCreate&&cs(n.beforeCreate,e,"bc");let{data:r,computed:s,methods:i,watch:a,provide:l,inject:f,created:d,beforeMount:p,mounted:g,beforeUpdate:E,updated:H,activated:M,deactivated:k,beforeDestroy:x,beforeUnmount:S,destroyed:F,unmounted:Y,render:O,renderTracked:W,renderTriggered:le,errorCaptured:re,serverPrefetch:pe,expose:Ke,inheritAttrs:qe,components:nt,directives:wt,filters:ft}=n;if(f&&Ua(f,o,null),i)for(let z in i){let K=i[z];L(K)&&(o[z]=K.bind(t))}if(r){let z=r.call(t,t);X(z)&&(e.data=ht(z))}if(pr=!0,s)for(let z in s){let K=s[z],ot=L(K)?K.bind(t,t):L(K.get)?K.get.bind(t,t):Te,ko=!L(K)&&L(K.set)?K.set.bind(t):Te,on=ie({get:ot,set:ko});Object.defineProperty(o,z,{enumerable:!0,configurable:!0,get:()=>on.value,set:kt=>on.value=kt})}if(a)for(let z in a)Is(a[z],o,t,z);if(l){let z=L(l)?l.call(t):l;Reflect.ownKeys(z).forEach(K=>{qa(K,z[K])})}d&&cs(d,e,"c");function me(z,K){I(K)?K.forEach(ot=>z(ot.bind(t))):K&&z(K.bind(t))}if(me(yr,p),me(ae,g),me(Ds,E),me(Rs,H),me(Da,M),me(Ra,k),me(Ma,re),me(Ia,W),me(Pa,le),me($e,S),me(vr,Y),me(ka,pe),I(Ke))if(Ke.length){let z=e.exposed||(e.exposed={});Ke.forEach(K=>{Object.defineProperty(z,K,{get:()=>t[K],set:ot=>t[K]=ot})})}else e.exposed||(e.exposed={});O&&e.render===Te&&(e.render=O),qe!=null&&(e.inheritAttrs=qe),nt&&(e.components=nt),wt&&(e.directives=wt),pe&&Os(e)}function Ua(e,n,t=Te){I(e)&&(e=mr(e));for(let o in e){let r=e[o],s;X(r)?"default"in r?s=Xn(r.from||o,r.default,!0):s=Xn(r.from||o):s=Xn(r),ce(s)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):n[o]=s}}function cs(e,n,t){je(I(e)?e.map(o=>o.bind(n.proxy)):e.bind(n.proxy),n,t)}function Is(e,n,t,o){let r=o.includes(".")?Js(t,o):()=>t[o];if(te(e)){let s=n[e];L(s)&&Wt(r,s)}else if(L(e))Wt(r,e.bind(t));else if(X(e))if(I(e))e.forEach(s=>Is(s,n,t,o));else{let s=L(e.handler)?e.handler.bind(t):n[e.handler];L(s)&&Wt(r,s,e)}}function Er(e){let n=e.type,{mixins:t,extends:o}=n,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(n),l;return a?l=a:!r.length&&!t&&!o?l=n:(l={},r.length&&r.forEach(f=>oo(l,f,i,!0)),oo(l,n,i)),X(n)&&s.set(n,l),l}function oo(e,n,t,o=!1){let{mixins:r,extends:s}=n;s&&oo(e,s,t,!0),r&&r.forEach(i=>oo(e,i,t,!0));for(let i in n)if(!(o&&i==="expose")){let a=Ba[i]||t&&t[i];e[i]=a?a(e[i],n[i]):n[i]}return e}var Ba={data:us,props:ds,emits:ds,methods:Nn,computed:Nn,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:Nn,directives:Nn,watch:$a,provide:us,inject:ja};function us(e,n){return n?e?function(){return se(L(e)?e.call(this,this):e,L(n)?n.call(this,this):n)}:n:e}function ja(e,n){return Nn(mr(e),mr(n))}function mr(e){if(I(e)){let n={};for(let t=0;t<e.length;t++)n[e[t]]=e[t];return n}return e}function we(e,n){return e?[...new Set([].concat(e,n))]:n}function Nn(e,n){return e?se(Object.create(null),e,n):n}function ds(e,n){return e?I(e)&&I(n)?[...new Set([...e,...n])]:se(Object.create(null),ls(e),ls(n!=null?n:{})):n}function $a(e,n){if(!e)return n;if(!n)return e;let t=se(Object.create(null),e);for(let o in n)t[o]=we(e[o],n[o]);return t}function Ms(){return{app:null,config:{isNativeTag:Mr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var Wa=0;function Ka(e,n){return function(o,r=null){L(o)||(o=se({},o)),r!=null&&!X(r)&&(r=null);let s=Ms(),i=new WeakSet,a=[],l=!1,f=s.app={_uid:Wa++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:Ol,get config(){return s.config},set config(d){},use(d,...p){return i.has(d)||(d&&L(d.install)?(i.add(d),d.install(f,...p)):L(d)&&(i.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,g){if(!l){let E=f._ceVNode||ue(o,r);return E.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),p&&n?n(E,d):e(E,d,g),l=!0,f._container=d,d.__vue_app__=f,po(E.component)}},onUnmount(d){a.push(d)},unmount(){l&&(je(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f},runWithContext(d){let p=$t;$t=f;try{return d()}finally{$t=p}}};return f}}var $t=null;function qa(e,n){if(_e){let t=_e.provides,o=_e.parent&&_e.parent.provides;o===t&&(t=_e.provides=Object.create(o)),t[e]=n}}function Xn(e,n,t=!1){let o=_e||xe;if(o||$t){let r=$t?$t._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return t&&L(n)?n.call(o&&o.proxy):n}}var Ls={},Hs=()=>Object.create(Ls),Fs=e=>Object.getPrototypeOf(e)===Ls;function Ga(e,n,t,o=!1){let r={},s=Hs();e.propsDefaults=Object.create(null),Us(e,n,r,s);for(let i in e.propsOptions[0])i in r||(r[i]=void 0);t?e.props=o?r:or(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Ya(e,n,t,o){let{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=$(r),[l]=e.propsOptions,f=!1;if((o||i>0)&&!(i&16)){if(i&8){let d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(uo(e.emitsOptions,g))continue;let E=n[g];if(l)if(j(s,g))E!==s[g]&&(s[g]=E,f=!0);else{let H=ve(g);r[H]=hr(l,a,H,E,e,!1)}else E!==s[g]&&(s[g]=E,f=!0)}}}else{Us(e,n,r,s)&&(f=!0);let d;for(let p in a)(!n||!j(n,p)&&((d=Ye(p))===p||!j(n,d)))&&(l?t&&(t[p]!==void 0||t[d]!==void 0)&&(r[p]=hr(l,a,p,void 0,e,!0)):delete r[p]);if(s!==a)for(let p in s)(!n||!j(n,p))&&(delete s[p],f=!0)}f&&Je(e.attrs,"set","")}function Us(e,n,t,o){let[r,s]=e.propsOptions,i=!1,a;if(n)for(let l in n){if(Lt(l))continue;let f=n[l],d;r&&j(r,d=ve(l))?!s||!s.includes(d)?t[d]=f:(a||(a={}))[d]=f:uo(e.emitsOptions,l)||(!(l in o)||f!==o[l])&&(o[l]=f,i=!0)}if(s){let l=$(t),f=a||q;for(let d=0;d<s.length;d++){let p=s[d];t[p]=hr(r,l,p,f[p],e,!j(f,p))}}return i}function hr(e,n,t,o,r,s){let i=e[t];if(i!=null){let a=j(i,"default");if(a&&o===void 0){let l=i.default;if(i.type!==Function&&!i.skipFactory&&L(l)){let{propsDefaults:f}=r;if(t in f)o=f[t];else{let d=Rn(r);o=f[t]=l.call(null,n),d()}}else o=l;r.ce&&r.ce._setProp(t,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===Ye(t))&&(o=!0))}return o}var za=new WeakMap;function Bs(e,n,t=!1){let o=t?za:n.propsCache,r=o.get(e);if(r)return r;let s=e.props,i={},a=[],l=!1;if(!L(e)){let d=p=>{l=!0;let[g,E]=Bs(p,n,!0);se(i,g),E&&a.push(...E)};!t&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return X(e)&&o.set(e,Ct),Ct;if(I(s))for(let d=0;d<s.length;d++){let p=ve(s[d]);fs(p)&&(i[p]=q)}else if(s)for(let d in s){let p=ve(d);if(fs(p)){let g=s[d],E=i[p]=I(g)||L(g)?{type:g}:se({},g),H=E.type,M=!1,k=!0;if(I(H))for(let x=0;x<H.length;++x){let S=H[x],F=L(S)&&S.name;if(F==="Boolean"){M=!0;break}else F==="String"&&(k=!1)}else M=L(H)&&H.name==="Boolean";E[0]=M,E[1]=k,(M||j(E,"default"))&&a.push(p)}}let f=[i,a];return X(e)&&o.set(e,f),f}function fs(e){return e[0]!=="$"&&!Lt(e)}var js=e=>e[0]==="_"||e==="$stable",br=e=>I(e)?e.map(et):[et(e)],Ja=(e,n,t)=>{if(n._n)return n;let o=xa((...r)=>br(n(...r)),t);return o._c=!1,o},$s=(e,n,t)=>{let o=e._ctx;for(let r in e){if(js(r))continue;let s=e[r];if(L(s))n[r]=Ja(r,s,o);else if(s!=null){let i=br(s);n[r]=()=>i}}},Ws=(e,n)=>{let t=br(n);e.slots.default=()=>t},Ks=(e,n,t)=>{for(let o in n)(t||o!=="_")&&(e[o]=n[o])},Xa=(e,n,t)=>{let o=e.slots=Hs();if(e.vnode.shapeFlag&32){let r=n._;r?(Ks(o,n,t),t&&jn(o,"_",r,!0)):$s(n,o)}else n&&Ws(e,n)},Za=(e,n,t)=>{let{vnode:o,slots:r}=e,s=!0,i=q;if(o.shapeFlag&32){let a=n._;a?t&&a===1?s=!1:Ks(r,n,t):(s=!n.$stable,$s(n,r)),i=n}else n&&(Ws(e,n),i={default:1});if(s)for(let a in r)!js(a)&&i[a]==null&&delete r[a]};function Qa(){let e=[]}var Ve=fl;function qs(e){return el(e)}function el(e,n){Qa();let t=dn();t.__VUE__=!0;let{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:f,setElementText:d,parentNode:p,nextSibling:g,setScopeId:E=Te,insertStaticContent:H}=e,M=(c,u,m,_=null,h=null,y=null,C=void 0,w=null,N=!!u.dynamicChildren)=>{if(c===u)return;c&&!bn(c,u)&&(_=Mn(c),pt(c,h,y,!0),c=null),u.patchFlag===-2&&(N=!1,u.dynamicChildren=null);let{type:v,ref:P,shapeFlag:T}=u;switch(v){case fo:k(c,u,m,_);break;case Rt:x(c,u,m,_);break;case Zn:c==null&&S(u,m,_,C);break;case Ee:wt(c,u,m,_,h,y,C,w,N);break;default:T&1?W(c,u,m,_,h,y,C,w,N):T&6?ft(c,u,m,_,h,y,C,w,N):(T&64||T&128)&&v.process(c,u,m,_,h,y,C,w,N,Pt)}P!=null&&h&&no(P,c&&c.ref,y,u||c,!u)},k=(c,u,m,_)=>{if(c==null)o(u.el=a(u.children),m,_);else{let h=u.el=c.el;u.children!==c.children&&f(h,u.children)}},x=(c,u,m,_)=>{c==null?o(u.el=l(u.children||""),m,_):u.el=c.el},S=(c,u,m,_)=>{[c.el,c.anchor]=H(c.children,u,m,_,c.el,c.anchor)},F=(c,u,m,_)=>{if(u.children!==c.children){let h=g(c.anchor);O(c),[u.el,u.anchor]=H(u.children,m,h,_)}else u.el=c.el,u.anchor=c.anchor},Y=({el:c,anchor:u},m,_)=>{let h;for(;c&&c!==u;)h=g(c),o(c,m,_),c=h;o(u,m,_)},O=({el:c,anchor:u})=>{let m;for(;c&&c!==u;)m=g(c),r(c),c=m;r(u)},W=(c,u,m,_,h,y,C,w,N)=>{u.type==="svg"?C="svg":u.type==="math"&&(C="mathml"),c==null?le(u,m,_,h,y,C,w,N):Ke(c,u,h,y,C,w,N)},le=(c,u,m,_,h,y,C,w)=>{let N,v,{props:P,shapeFlag:T,transition:D,dirs:U}=c;if(N=c.el=i(c.type,y,P&&P.is,P),T&8?d(N,c.children):T&16&&pe(c.children,N,null,_,h,ur(c,y),C,w),U&&At(c,null,_,"created"),re(N,c,c.scopeId,C,_),P){for(let J in P)J!=="value"&&!Lt(J)&&s(N,J,null,P[J],y,_);"value"in P&&s(N,"value",null,P.value,y),(v=P.onVnodeBeforeMount)&&Ze(v,_,c)}U&&At(c,null,_,"beforeMount");let B=tl(h,D);B&&D.beforeEnter(N),o(N,u,m),((v=P&&P.onVnodeMounted)||B||U)&&Ve(()=>{v&&Ze(v,_,c),B&&D.enter(N),U&&At(c,null,_,"mounted")},h)},re=(c,u,m,_,h)=>{if(m&&E(c,m),_)for(let y=0;y<_.length;y++)E(c,_[y]);if(h){let y=h.subTree;if(u===y||Zs(y.type)&&(y.ssContent===u||y.ssFallback===u)){let C=h.vnode;re(c,C,C.scopeId,C.slotScopeIds,h.parent)}}},pe=(c,u,m,_,h,y,C,w,N=0)=>{for(let v=N;v<c.length;v++){let P=c[v]=w?_t(c[v]):et(c[v]);M(null,P,u,m,_,h,y,C,w)}},Ke=(c,u,m,_,h,y,C)=>{let w=u.el=c.el,{patchFlag:N,dynamicChildren:v,dirs:P}=u;N|=c.patchFlag&16;let T=c.props||q,D=u.props||q,U;if(m&&Dt(m,!1),(U=D.onVnodeBeforeUpdate)&&Ze(U,m,u,c),P&&At(u,c,m,"beforeUpdate"),m&&Dt(m,!0),(T.innerHTML&&D.innerHTML==null||T.textContent&&D.textContent==null)&&d(w,""),v?qe(c.dynamicChildren,v,w,m,_,ur(u,h),y):C||ot(c,u,w,null,m,_,ur(u,h),y,!1),N>0){if(N&16)nt(w,T,D,m,h);else if(N&2&&T.class!==D.class&&s(w,"class",null,D.class,h),N&4&&s(w,"style",T.style,D.style,h),N&8){let B=u.dynamicProps;for(let J=0;J<B.length;J++){let G=B[J],Se=T[G],ye=D[G];(ye!==Se||G==="value")&&s(w,G,Se,ye,h,m)}}N&1&&c.children!==u.children&&d(w,u.children)}else!C&&v==null&&nt(w,T,D,m,h);((U=D.onVnodeUpdated)||P)&&Ve(()=>{U&&Ze(U,m,u,c),P&&At(u,c,m,"updated")},_)},qe=(c,u,m,_,h,y,C)=>{for(let w=0;w<u.length;w++){let N=c[w],v=u[w],P=N.el&&(N.type===Ee||!bn(N,v)||N.shapeFlag&70)?p(N.el):m;M(N,v,P,null,_,h,y,C,!0)}},nt=(c,u,m,_,h)=>{if(u!==m){if(u!==q)for(let y in u)!Lt(y)&&!(y in m)&&s(c,y,u[y],null,h,_);for(let y in m){if(Lt(y))continue;let C=m[y],w=u[y];C!==w&&y!=="value"&&s(c,y,w,C,h,_)}"value"in m&&s(c,"value",u.value,m.value,h)}},wt=(c,u,m,_,h,y,C,w,N)=>{let v=u.el=c?c.el:a(""),P=u.anchor=c?c.anchor:a(""),{patchFlag:T,dynamicChildren:D,slotScopeIds:U}=u;U&&(w=w?w.concat(U):U),c==null?(o(v,m,_),o(P,m,_),pe(u.children||[],m,P,h,y,C,w,N)):T>0&&T&64&&D&&c.dynamicChildren?(qe(c.dynamicChildren,D,m,h,y,C,w),(u.key!=null||h&&u===h.subTree)&&Gs(c,u,!0)):ot(c,u,m,P,h,y,C,w,N)},ft=(c,u,m,_,h,y,C,w,N)=>{u.slotScopeIds=w,c==null?u.shapeFlag&512?h.ctx.activate(u,m,_,C,N):nn(u,m,_,h,y,C,N):me(c,u,N)},nn=(c,u,m,_,h,y,C)=>{let w=c.component=vl(c,_,h);if(Ss(c)&&(w.ctx.renderer=Pt),El(w,!1,C),w.asyncDep){if(h&&h.registerDep(w,z,C),!c.el){let N=w.subTree=ue(Rt);x(null,N,u,m)}}else z(w,c,u,m,h,y,C)},me=(c,u,m)=>{let _=u.component=c.component;if(ul(c,u,m))if(_.asyncDep&&!_.asyncResolved){K(_,u,m);return}else _.next=u,_.update();else u.el=c.el,_.vnode=u},z=(c,u,m,_,h,y,C)=>{let w=()=>{if(c.isMounted){let{next:T,bu:D,u:U,parent:B,vnode:J}=c;{let Ae=Ys(c);if(Ae){T&&(T.el=J.el,K(c,T,C)),Ae.asyncDep.then(()=>{c.isUnmounted||w()});return}}let G=T,Se;Dt(c,!1),T?(T.el=J.el,K(c,T,C)):T=J,D&&Ht(D),(Se=T.props&&T.props.onVnodeBeforeUpdate)&&Ze(Se,B,T,J),Dt(c,!0);let ye=dr(c),Fe=c.subTree;c.subTree=ye,M(Fe,ye,p(Fe.el),Mn(Fe),c,h,y),T.el=ye.el,G===null&&dl(c,ye.el),U&&Ve(U,h),(Se=T.props&&T.props.onVnodeUpdated)&&Ve(()=>Ze(Se,B,T,J),h)}else{let T,{el:D,props:U}=u,{bm:B,m:J,parent:G,root:Se,type:ye}=c,Fe=wn(u);if(Dt(c,!1),B&&Ht(B),!Fe&&(T=U&&U.onVnodeBeforeMount)&&Ze(T,G,u),Dt(c,!0),D&&Mo){let Ae=()=>{c.subTree=dr(c),Mo(D,c.subTree,c,h,null)};Fe&&ye.__asyncHydrate?ye.__asyncHydrate(D,c,Ae):Ae()}else{Se.ce&&Se.ce._injectChildStyle(ye);let Ae=c.subTree=dr(c);M(null,Ae,m,_,c,h,y),u.el=Ae.el}if(J&&Ve(J,h),!Fe&&(T=U&&U.onVnodeMounted)){let Ae=u;Ve(()=>Ze(T,G,Ae),h)}(u.shapeFlag&256||G&&wn(G.vnode)&&G.vnode.shapeFlag&256)&&c.a&&Ve(c.a,h),c.isMounted=!0,u=m=_=null}};c.scope.on();let N=c.effect=new Ut(w);c.scope.off();let v=c.update=N.run.bind(N),P=c.job=N.runIfDirty.bind(N);P.i=c,P.id=c.uid,N.scheduler=()=>_r(P),Dt(c,!0),v()},K=(c,u,m)=>{u.component=c;let _=c.vnode.props;c.vnode=u,c.next=null,Ya(c,u.props,_,m),Za(c,u.children,m),at(),is(c),lt()},ot=(c,u,m,_,h,y,C,w,N=!1)=>{let v=c&&c.children,P=c?c.shapeFlag:0,T=u.children,{patchFlag:D,shapeFlag:U}=u;if(D>0){if(D&128){on(v,T,m,_,h,y,C,w,N);return}else if(D&256){ko(v,T,m,_,h,y,C,w,N);return}}U&8?(P&16&&rn(v,h,y),T!==v&&d(m,T)):P&16?U&16?on(v,T,m,_,h,y,C,w,N):rn(v,h,y,!0):(P&8&&d(m,""),U&16&&pe(T,m,_,h,y,C,w,N))},ko=(c,u,m,_,h,y,C,w,N)=>{c=c||Ct,u=u||Ct;let v=c.length,P=u.length,T=Math.min(v,P),D;for(D=0;D<T;D++){let U=u[D]=N?_t(u[D]):et(u[D]);M(c[D],U,m,null,h,y,C,w,N)}v>P?rn(c,h,y,!0,!1,T):pe(u,m,_,h,y,C,w,N,T)},on=(c,u,m,_,h,y,C,w,N)=>{let v=0,P=u.length,T=c.length-1,D=P-1;for(;v<=T&&v<=D;){let U=c[v],B=u[v]=N?_t(u[v]):et(u[v]);if(bn(U,B))M(U,B,m,null,h,y,C,w,N);else break;v++}for(;v<=T&&v<=D;){let U=c[T],B=u[D]=N?_t(u[D]):et(u[D]);if(bn(U,B))M(U,B,m,null,h,y,C,w,N);else break;T--,D--}if(v>T){if(v<=D){let U=D+1,B=U<P?u[U].el:_;for(;v<=D;)M(null,u[v]=N?_t(u[v]):et(u[v]),m,B,h,y,C,w,N),v++}}else if(v>D)for(;v<=T;)pt(c[v],h,y,!0),v++;else{let U=v,B=v,J=new Map;for(v=B;v<=D;v++){let De=u[v]=N?_t(u[v]):et(u[v]);De.key!=null&&J.set(De.key,v)}let G,Se=0,ye=D-B+1,Fe=!1,Ae=0,sn=new Array(ye);for(v=0;v<ye;v++)sn[v]=0;for(v=U;v<=T;v++){let De=c[v];if(Se>=ye){pt(De,h,y,!0);continue}let Ge;if(De.key!=null)Ge=J.get(De.key);else for(G=B;G<=D;G++)if(sn[G-B]===0&&bn(De,u[G])){Ge=G;break}Ge===void 0?pt(De,h,y,!0):(sn[Ge-B]=v+1,Ge>=Ae?Ae=Ge:Fe=!0,M(De,u[Ge],m,null,h,y,C,w,N),Se++)}let kr=Fe?nl(sn):Ct;for(G=kr.length-1,v=ye-1;v>=0;v--){let De=B+v,Ge=u[De],Pr=De+1<P?u[De+1].el:_;sn[v]===0?M(null,Ge,m,Pr,h,y,C,w,N):Fe&&(G<0||v!==kr[G]?kt(Ge,m,Pr,2):G--)}}},kt=(c,u,m,_,h=null)=>{let{el:y,type:C,transition:w,children:N,shapeFlag:v}=c;if(v&6){kt(c.component.subTree,u,m,_);return}if(v&128){c.suspense.move(u,m,_);return}if(v&64){C.move(c,u,m,Pt);return}if(C===Ee){o(y,u,m);for(let T=0;T<N.length;T++)kt(N[T],u,m,_);o(c.anchor,u,m);return}if(C===Zn){Y(c,u,m);return}if(_!==2&&v&1&&w)if(_===0)w.beforeEnter(y),o(y,u,m),Ve(()=>w.enter(y),h);else{let{leave:T,delayLeave:D,afterLeave:U}=w,B=()=>o(y,u,m),J=()=>{T(y,()=>{B(),U&&U()})};D?D(y,B,J):J()}else o(y,u,m)},pt=(c,u,m,_=!1,h=!1)=>{let{type:y,props:C,ref:w,children:N,dynamicChildren:v,shapeFlag:P,patchFlag:T,dirs:D,cacheIndex:U}=c;if(T===-2&&(h=!1),w!=null&&no(w,null,m,c,!0),U!=null&&(u.renderCache[U]=void 0),P&256){u.ctx.deactivate(c);return}let B=P&1&&D,J=!wn(c),G;if(J&&(G=C&&C.onVnodeBeforeUnmount)&&Ze(G,u,c),P&6)Wi(c.component,m,_);else{if(P&128){c.suspense.unmount(m,_);return}B&&At(c,null,u,"beforeUnmount"),P&64?c.type.remove(c,u,m,Pt,_):v&&!v.hasOnce&&(y!==Ee||T>0&&T&64)?rn(v,u,m,!1,!0):(y===Ee&&T&384||!h&&P&16)&&rn(N,u,m),_&&Rr(c)}(J&&(G=C&&C.onVnodeUnmounted)||B)&&Ve(()=>{G&&Ze(G,u,c),B&&At(c,null,u,"unmounted")},m)},Rr=c=>{let{type:u,el:m,anchor:_,transition:h}=c;if(u===Ee){$i(m,_);return}if(u===Zn){O(c);return}let y=()=>{r(m),h&&!h.persisted&&h.afterLeave&&h.afterLeave()};if(c.shapeFlag&1&&h&&!h.persisted){let{leave:C,delayLeave:w}=h,N=()=>C(m,y);w?w(c.el,y,N):N()}else y()},$i=(c,u)=>{let m;for(;c!==u;)m=g(c),r(c),c=m;r(u)},Wi=(c,u,m)=>{let{bum:_,scope:h,job:y,subTree:C,um:w,m:N,a:v}=c;ps(N),ps(v),_&&Ht(_),h.stop(),y&&(y.flags|=8,pt(C,c,u,m)),w&&Ve(w,u),Ve(()=>{c.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},rn=(c,u,m,_=!1,h=!1,y=0)=>{for(let C=y;C<c.length;C++)pt(c[C],u,m,_,h)},Mn=c=>{if(c.shapeFlag&6)return Mn(c.component.subTree);if(c.shapeFlag&128)return c.suspense.next();let u=g(c.anchor||c.el),m=u&&u[Sa];return m?g(m):u},Po=!1,Vr=(c,u,m)=>{c==null?u._vnode&&pt(u._vnode,null,null,!0):M(u._vnode||null,c,u,null,null,null,m),u._vnode=c,Po||(Po=!0,is(),ws(),Po=!1)},Pt={p:M,um:pt,m:kt,r:Rr,mt:nn,mc:pe,pc:ot,pbc:qe,n:Mn,o:e},Io,Mo;return n&&([Io,Mo]=n(Pt)),{render:Vr,hydrate:Io,createApp:Ka(Vr,Io)}}function ur({type:e,props:n},t){return t==="svg"&&e==="foreignObject"||t==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:t}function Dt({effect:e,job:n},t){t?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function tl(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function Gs(e,n,t=!1){let o=e.children,r=n.children;if(I(o)&&I(r))for(let s=0;s<o.length;s++){let i=o[s],a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=_t(r[s]),a.el=i.el),!t&&a.patchFlag!==-2&&Gs(i,a)),a.type===fo&&(a.el=i.el)}}function nl(e){let n=e.slice(),t=[0],o,r,s,i,a,l=e.length;for(o=0;o<l;o++){let f=e[o];if(f!==0){if(r=t[t.length-1],e[r]<f){n[o]=r,t.push(o);continue}for(s=0,i=t.length-1;s<i;)a=s+i>>1,e[t[a]]<f?s=a+1:i=a;f<e[t[s]]&&(s>0&&(n[o]=t[s-1]),t[s]=o)}}for(s=t.length,i=t[s-1];s-- >0;)t[s]=i,i=n[i];return t}function Ys(e){let n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:Ys(n)}function ps(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}var ol=Symbol.for("v-scx"),rl=()=>{{let e=Xn(ol);return e}};function Wt(e,n,t){return zs(e,n,t)}function zs(e,n,t=q){let{immediate:o,deep:r,flush:s,once:i}=t,a=se({},t),l=n&&o||!n&&s!=="post",f;if(Sn){if(s==="sync"){let E=rl();f=E.__watcherHandles||(E.__watcherHandles=[])}else if(!l){let E=()=>{};return E.stop=Te,E.resume=Te,E.pause=Te,E}}let d=_e;a.call=(E,H,M)=>je(E,d,H,M);let p=!1;s==="post"?a.scheduler=E=>{Ve(E,d&&d.suspense)}:s!=="sync"&&(p=!0,a.scheduler=(E,H)=>{H?E():_r(E)}),a.augmentJob=E=>{n&&(E.flags|=4),p&&(E.flags|=2,d&&(E.id=d.uid,E.i=d))};let g=ss(e,n,a);return Sn&&(f?f.push(g):l&&g()),g}function sl(e,n,t){let o=this.proxy,r=te(e)?e.includes(".")?Js(o,e):()=>o[e]:e.bind(o,o),s;L(n)?s=n:(s=n.handler,t=n);let i=Rn(this),a=zs(r,s.bind(o),t);return i(),a}function Js(e,n){let t=n.split(".");return()=>{let o=e;for(let r=0;r<t.length&&o;r++)o=o[t[r]];return o}}var il=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${ve(n)}Modifiers`]||e[`${Ye(n)}Modifiers`];function al(e,n,...t){if(e.isUnmounted)return;let o=e.vnode.props||q,r=t,s=n.startsWith("update:"),i=s&&il(o,n.slice(7));i&&(i.trim&&(r=t.map(d=>te(d)?d.trim():d)),i.number&&(r=t.map(un)));let a,l=o[a=cn(n)]||o[a=cn(ve(n))];!l&&s&&(l=o[a=cn(Ye(n))]),l&&je(l,e,6,r);let f=o[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,je(f,e,6,r)}}function Xs(e,n,t=!1){let o=n.emitsCache,r=o.get(e);if(r!==void 0)return r;let s=e.emits,i={},a=!1;if(!L(e)){let l=f=>{let d=Xs(f,n,!0);d&&(a=!0,se(i,d))};!t&&n.mixins.length&&n.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(X(e)&&o.set(e,null),null):(I(s)?s.forEach(l=>i[l]=null):se(i,s),X(e)&&o.set(e,i),i)}function uo(e,n){return!e||!Mt(n)?!1:(n=n.slice(2).replace(/Once$/,""),j(e,n[0].toLowerCase()+n.slice(1))||j(e,Ye(n))||j(e,n))}function dr(e){let{type:n,vnode:t,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:f,renderCache:d,props:p,data:g,setupState:E,ctx:H,inheritAttrs:M}=e,k=to(e),x,S;try{if(t.shapeFlag&4){let O=r||o,W=O;x=et(f.call(W,O,d,p,E,g,H)),S=a}else{let O=n;x=et(O.length>1?O(p,{attrs:a,slots:i,emit:l}):O(p,null)),S=n.props?a:ll(a)}}catch(O){Tn.length=0,so(O,e,1),x=ue(Rt)}let F=x,Y;if(S&&M!==!1){let O=Object.keys(S),{shapeFlag:W}=F;O.length&&W&7&&(s&&O.some(an)&&(S=cl(S,s)),F=Kt(F,S,!1,!0))}return t.dirs&&(F=Kt(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(t.dirs):t.dirs),t.transition&&ao(F,t.transition),x=F,to(k),x}var ll=e=>{let n;for(let t in e)(t==="class"||t==="style"||Mt(t))&&((n||(n={}))[t]=e[t]);return n},cl=(e,n)=>{let t={};for(let o in e)(!an(o)||!(o.slice(9)in n))&&(t[o]=e[o]);return t};function ul(e,n,t){let{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:l}=n,f=s.emitsOptions;if(n.dirs||n.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return o?ms(o,i,f):!!i;if(l&8){let d=n.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(i[g]!==o[g]&&!uo(f,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?ms(o,i,f):!0:!!i;return!1}function ms(e,n,t){let o=Object.keys(n);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){let s=o[r];if(n[s]!==e[s]&&!uo(t,s))return!0}return!1}function dl({vnode:e,parent:n},t){for(;n;){let o=n.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=n.vnode).el=t,n=n.parent;else break}}var Zs=e=>e.__isSuspense;function fl(e,n){n&&n.pendingBranch?I(e)?n.effects.push(...e):n.effects.push(e):Ns(e)}var Ee=Symbol.for("v-fgt"),fo=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Zn=Symbol.for("v-stc"),Tn=[],ke=null;function Q(e=!1){Tn.push(ke=e?null:[])}function pl(){Tn.pop(),ke=Tn[Tn.length-1]||null}var xn=1;function hs(e,n=!1){xn+=e,e<0&&ke&&n&&(ke.hasOnce=!0)}function Qs(e){return e.dynamicChildren=xn>0?ke||Ct:null,pl(),xn>0&&ke&&ke.push(e),e}function ne(e,n,t,o,r,s){return Qs(b(e,n,t,o,r,s,!0))}function Dn(e,n,t,o,r){return Qs(ue(e,n,t,o,r,!0))}function ei(e){return e?e.__v_isVNode===!0:!1}function bn(e,n){return e.type===n.type&&e.key===n.key}var ti=({key:e})=>e!=null?e:null,Qn=({ref:e,ref_key:n,ref_for:t})=>(typeof e=="number"&&(e=""+e),e!=null?te(e)||ce(e)||L(e)?{i:xe,r:e,k:n,f:!!t}:e:null);function b(e,n=null,t=null,o=0,r=null,s=e===Ee?0:1,i=!1,a=!1){let l={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&ti(n),ref:n&&Qn(n),scopeId:Ts,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:xe};return a?(Nr(l,t),s&128&&e.normalize(l)):t&&(l.shapeFlag|=te(t)?8:16),xn>0&&!i&&ke&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ke.push(l),l}var ue=ml;function ml(e,n=null,t=null,o=0,r=null,s=!1){if((!e||e===ks)&&(e=Rt),ei(e)){let a=Kt(e,n,!0);return t&&Nr(a,t),xn>0&&!s&&ke&&(a.shapeFlag&6?ke[ke.indexOf(e)]=a:ke.push(a)),a.patchFlag=-2,a}if(Tl(e)&&(e=e.__vccOpts),n){n=hl(n);let{class:a,style:l}=n;a&&!te(a)&&(n.class=A(a)),X(l)&&(En(l)&&!I(l)&&(l=se({},l)),n.style=rt(l))}let i=te(e)?1:Zs(e)?128:Aa(e)?64:X(e)?4:L(e)?2:0;return b(e,n,t,o,r,i,s,!0)}function hl(e){return e?En(e)||Fs(e)?se({},e):e:null}function Kt(e,n,t=!1,o=!1){let{props:r,ref:s,patchFlag:i,children:a,transition:l}=e,f=n?gl(r||{},n):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ti(f),ref:n&&n.ref?t&&s?I(s)?s.concat(Qn(n)):[s,Qn(n)]:Qn(n):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Ee?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kt(e.ssContent),ssFallback:e.ssFallback&&Kt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&ao(d,l.clone(d)),d}function We(e=" ",n=0){return ue(fo,null,e,n)}function V(e="",n=!1){return n?(Q(),Dn(Rt,null,e)):ue(Rt,null,e)}function et(e){return e==null||typeof e=="boolean"?ue(Rt):I(e)?ue(Ee,null,e.slice()):ei(e)?_t(e):ue(fo,null,String(e))}function _t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kt(e)}function Nr(e,n){let t=0,{shapeFlag:o}=e;if(n==null)n=null;else if(I(n))t=16;else if(typeof n=="object")if(o&65){let r=n.default;r&&(r._c&&(r._d=!1),Nr(e,r()),r._c&&(r._d=!0));return}else{t=32;let r=n._;!r&&!Fs(n)?n._ctx=xe:r===3&&xe&&(xe.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else L(n)?(n={default:n,_ctx:xe},t=32):(n=String(n),o&64?(t=16,n=[We(n)]):t=8);e.children=n,e.shapeFlag|=t}function gl(...e){let n={};for(let t=0;t<e.length;t++){let o=e[t];for(let r in o)if(r==="class")n.class!==o.class&&(n.class=A([n.class,o.class]));else if(r==="style")n.style=rt([n.style,o.style]);else if(Mt(r)){let s=n[r],i=o[r];i&&s!==i&&!(I(s)&&s.includes(i))&&(n[r]=s?[].concat(s,i):i)}else r!==""&&(n[r]=o[r])}return n}function Ze(e,n,t,o=null){je(e,n,7,[t,o])}var _l=Ms(),yl=0;function vl(e,n,t){let o=e.type,r=(n?n.appContext:e.appContext)||_l,s={uid:yl++,vnode:e,type:o,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hn(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bs(o,r),emitsOptions:Xs(o,r),emit:null,emitted:null,propsDefaults:q,inheritAttrs:o.inheritAttrs,ctx:q,data:q,props:q,attrs:q,slots:q,refs:q,setupState:q,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=n?n.root:s,s.emit=al.bind(null,s),e.ce&&e.ce(s),s}var _e=null,ni=()=>_e||xe,ro,gr;{let e=dn(),n=(t,o)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};ro=n("__VUE_INSTANCE_SETTERS__",t=>_e=t),gr=n("__VUE_SSR_SETTERS__",t=>Sn=t)}var Rn=e=>{let n=_e;return ro(e),e.scope.on(),()=>{e.scope.off(),ro(n)}},gs=()=>{_e&&_e.scope.off(),ro(null)};function oi(e){return e.vnode.shapeFlag&4}var Sn=!1;function El(e,n=!1,t=!1){n&&gr(n);let{props:o,children:r}=e.vnode,s=oi(e);Ga(e,o,s,n),Xa(e,r,t);let i=s?bl(e,n):void 0;return n&&gr(!1),i}function bl(e,n){var t;let o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ha);let{setup:r}=o;if(r){at();let s=e.setupContext=r.length>1?wl(e):null,i=Rn(e),a=An(r,e,0,[e.props,s]),l=Fo(a);if(lt(),i(),(l||e.sp)&&!wn(e)&&Os(e),l){if(a.then(gs,gs),n)return a.then(f=>{_s(e,f,n)}).catch(f=>{so(f,e,0)});e.asyncDep=a}else _s(e,a,n)}else ri(e,n)}function _s(e,n,t){L(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:X(n)&&(e.setupState=Jn(n)),ri(e,t)}var ys,vs;function ri(e,n,t){let o=e.type;if(!e.render){if(!n&&ys&&!o.render){let r=o.template||Er(e).template;if(r){let{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=o,f=se(se({isCustomElement:s,delimiters:a},i),l);o.render=ys(r,f)}}e.render=o.render||Te,vs&&vs(e)}{let r=Rn(e);at();try{Fa(e)}finally{lt(),r()}}}var Nl={get(e,n){return he(e,"get",""),e[n]}};function wl(e){let n=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Nl),slots:e.slots,emit:e.emit,expose:n}}function po(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jn(ir(e.exposed)),{get(n,t){if(t in n)return n[t];if(t in Cn)return Cn[t](e)},has(n,t){return t in n||t in Cn}})):e.proxy}function Cl(e,n=!0){return L(e)?e.displayName||e.name:e.name||n&&e.__name}function Tl(e){return L(e)&&"__vccOpts"in e}var ie=(e,n)=>os(e,n,Sn);var Ol="3.5.13";var Or,si=typeof window!="undefined"&&window.trustedTypes;if(si)try{Or=si.createPolicy("vue",{createHTML:e=>e})}catch(e){}var yi=Or?e=>Or.createHTML(e):e=>e,xl="http://www.w3.org/2000/svg",Sl="http://www.w3.org/1998/Math/MathML",ut=typeof document!="undefined"?document:null,ii=ut&&ut.createElement("template"),Al={insert:(e,n,t)=>{n.insertBefore(e,t||null)},remove:e=>{let n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,t,o)=>{let r=n==="svg"?ut.createElementNS(xl,e):n==="mathml"?ut.createElementNS(Sl,e):t?ut.createElement(e,{is:t}):ut.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>ut.createTextNode(e),createComment:e=>ut.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ut.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,t,o,r,s){let i=t?t.previousSibling:n.lastChild;if(r&&(r===s||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{ii.innerHTML=yi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);let a=ii.content;if(o==="svg"||o==="mathml"){let l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}n.insertBefore(a,t)}return[i?i.nextSibling:n.firstChild,t?t.previousSibling:n.lastChild]}};var Dl=Symbol("_vtc");function Rl(e,n,t){let o=e[Dl];o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?e.removeAttribute("class"):t?e.setAttribute("class",n):e.className=n}var ho=Symbol("_vod"),vi=Symbol("_vsh"),go={beforeMount(e,{value:n},{transition:t}){e[ho]=e.style.display==="none"?"":e.style.display,t&&n?t.beforeEnter(e):Vn(e,n)},mounted(e,{value:n},{transition:t}){t&&n&&t.enter(e)},updated(e,{value:n,oldValue:t},{transition:o}){!n!=!t&&(o?n?(o.beforeEnter(e),Vn(e,!0),o.enter(e)):o.leave(e,()=>{Vn(e,!1)}):Vn(e,n))},beforeUnmount(e,{value:n}){Vn(e,n)}};function Vn(e,n){e.style.display=n?e[ho]:"none",e[vi]=!n}var Vl=Symbol("");var kl=/(^|;)\s*display\s*:/;function Pl(e,n,t){let o=e.style,r=te(t),s=!1;if(t&&!r){if(n)if(te(n))for(let i of n.split(";")){let a=i.slice(0,i.indexOf(":")).trim();t[a]==null&&mo(o,a,"")}else for(let i in n)t[i]==null&&mo(o,i,"");for(let i in t)i==="display"&&(s=!0),mo(o,i,t[i])}else if(r){if(n!==t){let i=o[Vl];i&&(t+=";"+i),o.cssText=t,s=kl.test(t)}}else n&&e.removeAttribute("style");ho in e&&(e[ho]=s?o.display:"",e[vi]&&(o.display="none"))}var ai=/\s*!important$/;function mo(e,n,t){if(I(t))t.forEach(o=>mo(e,n,o));else if(t==null&&(t=""),n.startsWith("--"))e.setProperty(n,t);else{let o=Il(e,n);ai.test(t)?e.setProperty(Ye(o),t.replace(ai,""),"important"):e[o]=t}}var li=["Webkit","Moz","ms"],wr={};function Il(e,n){let t=wr[n];if(t)return t;let o=ve(n);if(o!=="filter"&&o in e)return wr[n]=o;o=Ot(o);for(let r=0;r<li.length;r++){let s=li[r]+o;if(s in e)return wr[n]=s}return n}var ci="http://www.w3.org/1999/xlink";function ui(e,n,t,o,r,s=Fr(n)){o&&n.startsWith("xlink:")?t==null?e.removeAttributeNS(ci,n.slice(6,n.length)):e.setAttributeNS(ci,n,t):t==null||s&&!$n(t)?e.removeAttribute(n):e.setAttribute(n,s?"":Ue(t)?String(t):t)}function di(e,n,t,o,r){if(n==="innerHTML"||n==="textContent"){t!=null&&(e[n]=n==="innerHTML"?yi(t):t);return}let s=e.tagName;if(n==="value"&&s!=="PROGRESS"&&!s.includes("-")){let a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=t==null?e.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in e))&&(e.value=l),t==null&&e.removeAttribute(n),e._value=t;return}let i=!1;if(t===""||t==null){let a=typeof e[n];a==="boolean"?t=$n(t):t==null&&a==="string"?(t="",i=!0):a==="number"&&(t=0,i=!0)}try{e[n]=t}catch(a){}i&&e.removeAttribute(r||n)}function qt(e,n,t,o){e.addEventListener(n,t,o)}function Ml(e,n,t,o){e.removeEventListener(n,t,o)}var fi=Symbol("_vei");function Ll(e,n,t,o,r=null){let s=e[fi]||(e[fi]={}),i=s[n];if(o&&i)i.value=o;else{let[a,l]=Hl(n);if(o){let f=s[n]=Bl(o,r);qt(e,a,f,l)}else i&&(Ml(e,a,i,l),s[n]=void 0)}}var pi=/(?:Once|Passive|Capture)$/;function Hl(e){let n;if(pi.test(e)){n={};let o;for(;o=e.match(pi);)e=e.slice(0,e.length-o[0].length),n[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ye(e.slice(2)),n]}var Cr=0,Fl=Promise.resolve(),Ul=()=>Cr||(Fl.then(()=>Cr=0),Cr=Date.now());function Bl(e,n){let t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;je(jl(o,t.value),n,5,[o])};return t.value=e,t.attached=Ul(),t}function jl(e,n){if(I(n)){let t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},n.map(o=>r=>!r._stopped&&o&&o(r))}else return n}var mi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$l=(e,n,t,o,r,s)=>{let i=r==="svg";n==="class"?Rl(e,o,i):n==="style"?Pl(e,t,o):Mt(n)?an(n)||Ll(e,n,t,o,s):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Wl(e,n,o,i))?(di(e,n,o),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&ui(e,n,o,i,s,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!te(o))?di(e,ve(n),o,s,n):(n==="true-value"?e._trueValue=o:n==="false-value"&&(e._falseValue=o),ui(e,n,o,i))};function Wl(e,n,t,o){if(o)return!!(n==="innerHTML"||n==="textContent"||n in e&&mi(n)&&L(t));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){let r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return mi(n)&&te(t)?!1:n in e}var Xu=Symbol("_moveCb"),Zu=Symbol("_enterCb");var hi=e=>{let n=e.props["onUpdate:modelValue"]||!1;return I(n)?t=>Ht(n,t):n};function Kl(e){e.target.composing=!0}function gi(e){let n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}var Tr=Symbol("_assign"),tt={created(e,{modifiers:{lazy:n,trim:t,number:o}},r){e[Tr]=hi(r);let s=o||r.props&&r.props.type==="number";qt(e,n?"change":"input",i=>{if(i.target.composing)return;let a=e.value;t&&(a=a.trim()),s&&(a=un(a)),e[Tr](a)}),t&&qt(e,"change",()=>{e.value=e.value.trim()}),n||(qt(e,"compositionstart",Kl),qt(e,"compositionend",gi),qt(e,"change",gi))},mounted(e,{value:n}){e.value=n==null?"":n},beforeUpdate(e,{value:n,oldValue:t,modifiers:{lazy:o,trim:r,number:s}},i){if(e[Tr]=hi(i),e.composing)return;let a=(s||e.type==="number")&&!/^0\d/.test(e.value)?un(e.value):e.value,l=n==null?"":n;a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&n===t||r&&e.value.trim()===l)||(e.value=l))}};var ql=["ctrl","shift","alt","meta"],Gl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>ql.some(t=>e[`${t}Key`]&&!n.includes(t))},_o=(e,n)=>{let t=e._withMods||(e._withMods={}),o=n.join(".");return t[o]||(t[o]=(r,...s)=>{for(let i=0;i<n.length;i++){let a=Gl[n[i]];if(a&&a(r,n))return}return e(r,...s)})},Yl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xr=(e,n)=>{let t=e._withKeys||(e._withKeys={}),o=n.join(".");return t[o]||(t[o]=r=>{if(!("key"in r))return;let s=Ye(r.key);if(n.some(i=>i===s||Yl[i]===s))return e(r)})},zl=se({patchProp:$l},Al),_i;function Jl(){return _i||(_i=qs(zl))}var yo=(...e)=>{let n=Jl().createApp(...e),{mount:t}=n;return n.mount=o=>{let r=Zl(o);if(!r)return;let s=n._component;!L(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");let i=t(r,!1,Xl(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},n};function Xl(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Zl(e){return te(e)?document.querySelector(e):e}var Ri=require("obsidian");var fe=require("obsidian");var Et=require("obsidian");var Vt=require("obsidian");function kn(e){let n=new RegExp("^(.+) --- (.+)$");return Pe(e,n).map(o=>Array.isArray(o)?{time:Number(o[0]),content:String(o[1])}:null).filter(o=>o!==null).sort((o,r)=>o.time-r.time)}async function Gt(e){let n=0;try{let t=new Audio;t.src=e,t.preload="metadata",n=await new Promise(o=>{t.onloadedmetadata=()=>{o(t.duration)}})}catch(t){console.error("retriveDuration: ",t)}return n}async function Yt(e,n,t,o){if(o<=t.endTime){let r=new CustomEvent("pause-other-players",{detail:{id:e}});document.dispatchEvent(r),await n.play()}}function be(e,n){n.value=e.currentTime,e.pause()}async function yt(e,n,t,o){n.paused?await Yt(e,n,t,o.value):be(n,o)}function Me(e,n,t,o){o<=(n==null?void 0:n.startTime)?(e.currentTime=n==null?void 0:n.startTime,t.value=n==null?void 0:n.startTime):o>=(n==null?void 0:n.endTime)?(e.currentTime=n==null?void 0:n.endTime,t.value=n==null?void 0:n.endTime):(e.currentTime=o,t.value=o)}var vo=de({__name:"CommentInput",props:{id:{type:String,required:!0},source:{type:String,required:!0},container:{type:null,required:!0},ctx:{type:null,required:!0},audioSource:{type:String,required:!0},player:{type:null,required:!0},obsidianApp:{type:null,required:!0},sharedRefs:{type:Object,required:!0},options:{type:null,required:!0}},setup(e,{expose:n}){n();let t=e,o=R(null),r=R(null),s=R(null),i=xs("commentInput");t.sharedRefs.commentInput=ie(()=>i.value);let a=R(!1),l=R(null);ae(()=>{document.addEventListener("add-comment",M)}),$e(()=>{document.removeEventListener("add-comment",M)}),Wt(t.sharedRefs.isCommentInputShown,x=>{x&&E()});async function f(x,S){if(x.content==""&&S){console.error("Impossible state reached WHEN dealing with comment");return}let F=t.ctx.getSectionInfo(t.container);if(!F)return;let Y=F.text.split(`
`);try{let O=kn(t.source),W;if(S)O?(W=O.findIndex(pe=>x.time<pe.time),W===-1&&(W=O.length)):W=0;else if(W=O.findIndex(pe=>x.time===pe.time),W==-1){console.error("Trying to edit a non-existing comment");return}let le=F.lineEnd-O.length+W;if(le<F.lineEnd-O.length||le>F.lineEnd)return;Y.splice(le,S?0:1,...x.content==""?[]:[`${x.time} --- ${x.content}`]);let re=t.obsidianApp.vault.getAbstractFileByPath(t.ctx.sourcePath);if(!re||!(re instanceof Vt.TFile))return;await t.obsidianApp.vault.modify(re,Y.join(`
`))}catch(O){console.error("Cannot manage comment - ",O)}t.sharedRefs.isCommentInputShown.value=!1,t.sharedRefs.editMode.value=!1,t.sharedRefs.editedCommentTime.value=null,a.value=!1,t.sharedRefs.isDuplicate.value=!1,t.sharedRefs.resume.value=!0}async function d(){var S;if(((S=t.sharedRefs.contentCommentInput.value)==null?void 0:S.length)==0)return;let x={time:t.sharedRefs.editMode.value?t.sharedRefs.editedCommentTime.value:l.value,content:t.sharedRefs.contentCommentInput.value};await f(x,!t.sharedRefs.editMode.value)}function p(){a.value?g(t.sharedRefs.editedCommentTime.value):a.value=!0}async function g(x){await f({time:x,content:""},!1)}function E(){l.value=Math.floor(t.player.currentTime),t.sharedRefs.isCommentInputShown.value=!0,t.options.unstoppable||be(t.player,t.sharedRefs.currentTime),setTimeout(()=>{var S,F;o.value&&(0,Vt.setIcon)(o.value,"plus"),r.value&&(0,Vt.setIcon)(r.value,"x"),s.value&&(0,Vt.setIcon)(s.value,"trash-2");let x=(S=kn(t.source))==null?void 0:S.some(Y=>Y.time===l.value);t.sharedRefs.editMode.value?o.value&&(0,Vt.setIcon)(o.value,"check"):x?(t.sharedRefs.contentCommentInput.value="ALREADY EXISTS!",t.sharedRefs.isDuplicate.value=!0):(t.sharedRefs.contentCommentInput.value="",(F=t.sharedRefs.commentInput.value)==null||F.focus())},0)}function H(){t.sharedRefs.contentCommentInput.value="",t.sharedRefs.isDuplicate.value=!1,t.sharedRefs.isCommentInputShown.value=!1,t.sharedRefs.editMode.value=!1}let M=x=>{var F;((F=x.detail)==null?void 0:F.id)==t.id&&E()},k={props:t,confirm_btn:o,cancel_btn:r,delete_btn:s,commentInputElement:i,get deleteConfirmation(){return a},set deleteConfirmation(x){a=x},get workingTimestamp(){return l},set workingTimestamp(x){l=x},editCodeblockComment:f,addComment:d,confirmDeleteComment:p,deleteComment:g,showCommentInput:E,imposeDefault:H,eventInsertComment:M};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}});var Ql={key:0,class:A(["comment-input-container"])},ec={class:A(["comment-btn-container"])};function Ei(e,n,t,o,r,s){return t.sharedRefs.isCommentInputShown.value?(Q(),ne("div",Ql,[Ie(b("input",{type:"text",ref:"commentInput","onUpdate:modelValue":n[0]||(n[0]=i=>t.sharedRefs.contentCommentInput.value=i),class:A([t.sharedRefs.isDuplicate.value&&"disabled"]),onKeydown:[xr(o.imposeDefault,["escape"]),xr(o.addComment,["enter"])]},null,34),[[tt,t.sharedRefs.contentCommentInput.value]]),V(" Buttons "),b("div",ec,[b("button",{ref:"confirm_btn",class:A([t.sharedRefs.isDuplicate.value&&"disabled"]),onClick:o.addComment},null,2),b("button",{ref:"cancel_btn",onClick:o.imposeDefault},null,512),t.sharedRefs.editMode.value?(Q(),ne("button",{key:0,ref:"delete_btn",onClick:o.confirmDeleteComment,style:rt({"background-color":o.deleteConfirmation?"var(--interactive-accent)":""})},null,4)):V("v-if",!0)])])):V("v-if",!0)}vo.render=Ei;vo.__file="src/components/Comment/CommentInput.vue";var zt=vo;var vt=require("obsidian");function Jt(e){let n=e.split(":").map(t=>Number.parseInt(t));return n[2]+n[1]*60+n[0]*3600}function Ne(e,n){e=Math.floor(e);let t=String(Math.floor(e/3600)).padStart(2,"0"),o=String(Math.floor(e%3600/60)).padStart(2,"0"),r=String(e%60).padStart(2,"0");return n!==void 0&&n<3600?`${o}:${r}`:`${t}:${o}:${r}`}async function Pn(e){let n=JSON.stringify(e);return await tc(n)}async function tc(e){let n=nc(e),o=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}function nc(e){return JSON.stringify(e,Object.keys(e).sort()).replace(/\s+/g,"")}var Eo=de({__name:"AudioComment",props:{comment:{type:null,required:!0},obsidianApp:{type:null,required:!0},sharedRefs:{type:Object,required:!0}},emits:["play-from","edit-comment"],setup(e,{expose:n,emit:t}){n();let o=R(null),r=e,s=t;ae(()=>{o.value&&(0,vt.setIcon)(o.value,"pencil")});let i=ie(()=>{let d=document.createElement("div"),p=new vt.Component;return vt.MarkdownRenderer.render(r.obsidianApp,r.comment.content,d,"",p),p.unload(),d.innerHTML||""});function a(){s("play-from",r.comment.time)}function l(){s("edit-comment",r.comment.time)}let f={edit_btn:o,props:r,emit:s,displayCommentContent:i,emitPlayFrom:a,emitEditComment:l,get Platform(){return vt.Platform},get secondsToTime(){return Ne}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}});var oc={class:"comment-time"},rc=["innerHTML"];function bi(e,n,t,o,r,s){return Q(),ne("div",{class:"comment",onClick:_o(o.emitPlayFrom,["left"]),onContextmenu:_o(o.emitEditComment,["right"])},[b("span",oc,oe(o.secondsToTime(t.comment.time,t.sharedRefs.maxDuration.value)),1),b("span",{class:"comment-content",innerHTML:o.displayCommentContent},null,8,rc),o.Platform.isMobile?(Q(),ne("i",{key:0,ref:"edit_btn",onClick:_o(o.emitEditComment,["stop"])},null,512)):V("v-if",!0)],32)}Eo.render=bi;Eo.__file="src/components/Comment/AudioComment.vue";var Ni=Eo;var bo=de({__name:"CommentList",props:{id:{type:String,required:!0},source:{type:String,required:!0},player:{type:null,required:!0},obsidianApp:{type:null,required:!0},sharedRefs:{type:Object,required:!0},options:{type:null,required:!0}},setup(e,{expose:n}){n();let t=e,o=R(null),r=kn(t.source);ae(()=>{t.player&&t.player.addEventListener("timeupdate",f)});let s=ie(()=>r.filter(p=>p.time>=t.options.chunk.startTime&&p.time<=t.options.chunk.endTime));function i(p){t.sharedRefs.isCommentInputShown.value=!0,t.sharedRefs.editMode.value=!0,t.sharedRefs.editedCommentTime.value=p,t.options.unstoppable||be(t.player,t.sharedRefs.currentTime),t.sharedRefs.contentCommentInput.value=a(p).content,io(()=>{var g;(g=t.sharedRefs.commentInput.value)==null||g.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{var E;(E=t.sharedRefs.commentInput.value)==null||E.focus()},300)})}function a(p){let g=s.value.findIndex(E=>p==E.time);return s.value.at(g)||null}function l(p){Me(t.player,t.options.chunk,t.sharedRefs.currentTime,p),t.options.autoplay&&Yt(t.id,t.player,t.options.chunk,t.sharedRefs.currentTime.value)}function f(){let p=s.value.filter(g=>{var E;return((E=t.player)==null?void 0:E.currentTime)>=g.time});o.value=p[p.length-1]}let d={props:t,activeComment:o,commentsList:r,filteredCommentList:s,enableEditMode:i,getComment:a,playComment:l,eventActiveComment:f,AudioCommentVue:Ni};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}});function wi(e,n,t,o,r,s){return Q(),ne("div",{class:A(["comment-list",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[(Q(!0),ne(Ee,null,co(o.filteredCommentList,i=>{var a;return Q(),Dn(o.AudioCommentVue,{class:A({"active-comment":i.time===((a=o.activeComment)==null?void 0:a.time)}),onPlayFrom:n[0]||(n[0]=l=>o.playComment(l)),onEditComment:o.enableEditMode,key:i.time,comment:i,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs},null,8,["class","comment","obsidianApp","sharedRefs"])}),128))],2)}bo.render=wi;bo.__file="src/components/Comment/CommentList.vue";var Xt=bo;function Zt(e,n){return ie(()=>Ne(Math.floor(e),n))}function Qt(e,n){return ie(()=>Ne(e.endTime,n))}function No(e,n){return n===void 0?!1:n===""?In(e).replace(/\.[^/.]+$/,""):n}var wo=de({__name:"LayoutDefault",props:{id:{type:String,required:!0},source:{type:String,required:!0},container:{type:null,required:!0},ctx:{type:null,required:!0},audioSource:{type:String,required:!0},player:{type:null,required:!0},obsidianApp:{type:null,required:!0},sharedRefs:{type:Object,required:!0},options:{type:null,required:!0}},setup(e,{expose:n}){n();let t=e,o=R(null),r=R(null),s=R(null),i=R(null),a=R(null);ae(()=>{o.value&&(0,Et.setIcon)(o.value,"play"),r.value&&(0,Et.setIcon)(r.value,"bookmark-plus"),s.value&&(0,Et.setIcon)(s.value,"settings-2"),i.value&&(0,Et.setIcon)(i.value,"chevrons-left"),a.value&&(0,Et.setIcon)(a.value,"chevrons-right"),t.player&&(t.player.addEventListener("timeupdate",f),t.player.addEventListener("play",d),t.player.addEventListener("pause",p))}),$e(()=>{t.player.removeEventListener("timeupdate",f),t.player.removeEventListener("play",d),t.player.removeEventListener("pause",p)});function l(){!isNaN(t.sharedRefs.currentTime.value)&&t.player&&(t.player.currentTime=t.sharedRefs.currentTime.value)}function f(){var E;t.sharedRefs.currentTime.value=t.player.currentTime,t.sharedRefs.currentTime.value>((E=t.options.chunk)==null?void 0:E.endTime)&&t.player.dispatchEvent(new Event("ended",{bubbles:!0}))}function d(){(0,Et.setIcon)(o.value,"pause")}function p(){(0,Et.setIcon)(o.value,"play")}let g={props:t,playpause_btn:o,showCommentInput_btn:r,showProperties_btn:s,backward_btn:i,forward_btn:a,eventTimeBarInput:l,eventTimeUpdate:f,eventPlayerPlay:d,eventPlayerPause:p,CommentInput:zt,CommentList:Xt,get displayCurrentTime(){return Zt},get displayDuration(){return Qt},get togglePlayer(){return yt},get setPlayerPosition(){return Me},get pausePlayer(){return be},get PropertiesModal(){return bt}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}});var sc={class:"layout--default"},ic={class:A(["inputs-container"])},ac={class:A(["controls-container"])},lc={class:A(["timeline-numbers"])},cc=["min","max"];function Ci(e,n,t,o,r,s){var i,a;return Q(),ne("div",sc,[b("div",{ref:"stickyContainer",class:A(["main-container",t.options.sticky&&"is-sticky"])},[b("div",ic,[V(" Player Controls "),b("div",ac,[V(" Play/Pause Control "),b("div",{ref:"playpause_btn",class:A(["playpause_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[0]||(n[0]=l=>o.togglePlayer(t.id,t.player,t.options.chunk,t.sharedRefs.currentTime))},null,2),V(" Movement Controls "),b("div",{class:A(["movement-container",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"])},[b("div",{ref:"backward_btn",class:A(["movement-btn"]),onClick:n[1]||(n[1]=l=>o.setPlayerPosition(t.player,t.options.chunk,t.sharedRefs.currentTime,t.sharedRefs.currentTime.value-5))},null,512),b("div",{ref:"forward_btn",class:A(["movement-btn"]),onClick:n[2]||(n[2]=l=>o.setPlayerPosition(t.player,t.options.chunk,t.sharedRefs.currentTime,t.sharedRefs.currentTime.value+5))},null,512)],2)]),V(" TimeLine Numbers "),b("div",lc,[b("span",null,oe(o.displayCurrentTime(t.sharedRefs.currentTime.value,t.sharedRefs.maxDuration.value)),1),b("span",null,"- "+oe(o.displayDuration(t.options.chunk,t.sharedRefs.maxDuration.value)),1)]),V(" Timeline "),b("div",{class:A(["timeline-container",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[Ie(b("input",{type:"range",min:(i=t.options.chunk)==null?void 0:i.startTime,max:(a=t.options.chunk)==null?void 0:a.endTime,step:"0.1","onUpdate:modelValue":n[3]||(n[3]=l=>t.sharedRefs.currentTime.value=l),onInput:o.eventTimeBarInput},null,40,cc),[[tt,t.sharedRefs.currentTime.value]])],2),V(" Stacked Buttons "),b("div",{class:A(["stacked-btns-container",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[V(' "Properies" Button'),b("div",{ref:"showProperties_btn",class:A(["showProperties_btn"]),onClick:n[4]||(n[4]=l=>{o.pausePlayer(t.player,t.sharedRefs.currentTime),new o.PropertiesModal(t.source,t.ctx,t.container,t.obsidianApp,t.sharedRefs.maxDuration.value).openPropertiesModal()})},null,512),V(' "Add Comment" Button '),b("div",{ref:"showCommentInput_btn",class:A(["commentInput_btn",t.sharedRefs.isCommentInputShown.value&&"disabled"]),onClick:n[5]||(n[5]=l=>t.sharedRefs.isCommentInputShown.value=!0)},null,2)],2)]),V(" Comment Input "),ue(o.CommentInput,{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs,options:t.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"])],2),V(" Comments List "),ue(o.CommentList,{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs,options:t.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"])])}wo.render=Ci;wo.__file="src/components/Layout/LayoutDefault.vue";var Ti=wo;var dt=require("obsidian");var Co=de({__name:"LayoutBig",props:{id:{type:String,required:!0},source:{type:String,required:!0},container:{type:null,required:!0},ctx:{type:null,required:!0},audioSource:{type:String,required:!0},player:{type:null,required:!0},obsidianApp:{type:null,required:!0},sharedRefs:{type:Object,required:!0},options:{type:null,required:!0}},setup(e,{expose:n}){n();let t=e,o=R(null),r=R(null),s=R(null),i=R(null),a=R(150),l=R([]);ae(async()=>{o.value&&(0,dt.setIcon)(o.value,"audio-lines"),r.value&&(0,dt.setIcon)(r.value,"play"),s.value&&(0,dt.setIcon)(s.value,"bookmark-plus"),i.value&&(0,dt.setIcon)(i.value,"settings-2");let x=Nt(t.source,t.sharedRefs.maxDuration.value),S=await Pn(x),F=localStorage.getItem(`aa_${t.audioSource}_optionsHash`);if(S===F){let Y=localStorage.getItem(`aa_${t.audioSource}_barHeights`);Y?l.value=JSON.parse(Y):l.value=await p()}else l.value=await p();t.player&&(t.player.addEventListener("timeupdate",E),t.player.addEventListener("play",H),t.player.addEventListener("pause",M))}),$e(()=>{t.player.removeEventListener("timeupdate",E),t.player.removeEventListener("play",H),t.player.removeEventListener("pause",M),localStorage.setItem(`aa_${t.audioSource}_barHeights`,JSON.stringify(l.value))});let f=ie(()=>Math.floor((t.sharedRefs.currentTime.value-t.options.chunk.startTime)/t.options.chunk.duration*a.value)),d=ie(()=>No(t.source,t.options.title));async function p(){let x=t.obsidianApp.vault.getAbstractFileByPath(t.audioSource);if(x&&x instanceof dt.TFile){let S=await t.obsidianApp.vault.adapter.readBinary(x.path),F=new AudioContext,Y=[];F.decodeAudioData(S,async O=>{var qe,nt,wt;let W=O.getChannelData(0),le=O.sampleRate,re={startTime:Math.floor(((qe=t.options.chunk)==null?void 0:qe.startTime)*le),endTime:Math.floor(((nt=t.options.chunk)==null?void 0:nt.endTime)*le)},pe=Math.floor((re.endTime-re.startTime)/a.value),Ke=0;for(let ft=0;ft<a.value;ft++){let nn=((wt=t.options.chunk)==null?void 0:wt.startTime)+pe*ft,me=0;for(let K=0;K<pe;K++)me+=Math.abs(W[nn+K]);let z=me/pe;Y.push(z),z>Ke&&(Ke=z)}return l.value=Y.map(ft=>ft/Ke)})}return[]}function g(){!isNaN(t.sharedRefs.currentTime.value)&&t.player&&(t.player.currentTime=t.sharedRefs.currentTime.value)}function E(){var x;t.sharedRefs.currentTime.value=t.player.currentTime,t.sharedRefs.currentTime.value>((x=t.options.chunk)==null?void 0:x.endTime)&&t.player.dispatchEvent(new Event("ended",{bubbles:!0}))}function H(){(0,dt.setIcon)(r.value,"pause")}function M(){(0,dt.setIcon)(r.value,"play")}let k={props:t,titleIcon:o,playpause_btn:r,showCommentInput_btn:s,showProperties_btn:i,nSamples:a,barHeights:l,currentBar:f,title:d,calculateWaveGraph:p,eventTimeBarInput:g,eventTimeUpdate:E,eventPlayerPlay:H,eventPlayerPause:M,CommentInput:zt,CommentList:Xt,get PropertiesModal(){return bt},get displayCurrentTime(){return Zt},get displayDuration(){return Qt},get togglePlayer(){return yt},get setPlayerPosition(){return Me},get pausePlayer(){return be}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}});var uc={class:"layout--big"},dc={class:A(["audiobox-title"])},fc={ref:"titleIcon"},pc=["min","max"],mc={class:A(["timeline-numbers"])},hc={class:A(["controls-container"])};function Oi(e,n,t,o,r,s){var i,a;return Q(),ne("div",uc,[V(" Title "),Ie(b("div",dc,[b("span",fc,null,512),We(oe(o.title),1)],512),[[go,o.title]]),V(" WaveGraph "),b("div",{class:A(["wavegraph",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[(Q(!0),ne(Ee,null,co(o.barHeights,(l,f)=>(Q(),ne("div",{class:A({bar:!0,playedBar:f<=o.currentBar}),key:o.props.sharedRefs.srcPath.value+f,style:rt({height:l*6+"rem"})},null,6))),128))],2),b("div",{ref:"stickyContainer",class:A(["main-container",t.options.sticky&&"is-sticky"])},[V(" Timeline "),b("div",{class:A(["timeline-container",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[Ie(b("input",{type:"range",min:(i=t.options.chunk)==null?void 0:i.startTime,max:(a=t.options.chunk)==null?void 0:a.endTime,step:"0.1","onUpdate:modelValue":n[0]||(n[0]=l=>t.sharedRefs.currentTime.value=l),onInput:o.eventTimeBarInput},null,40,pc),[[tt,t.sharedRefs.currentTime.value]]),b("div",mc,[b("span",null,oe(o.displayCurrentTime(t.sharedRefs.currentTime.value)),1),b("span",null,oe(o.displayDuration(t.options.chunk)),1)])],2),V(" Controls "),b("div",hc,[V(" Properies "),b("div",{ref:"showProperties_btn",class:A(["commentInput_btn","control_btn",t.sharedRefs.isCommentInputShown.value&&"disabled"]),onClick:n[1]||(n[1]=l=>{o.pausePlayer(t.player,t.sharedRefs.currentTime),new o.PropertiesModal(t.source,t.ctx,t.container,t.obsidianApp,t.sharedRefs.maxDuration.value).openPropertiesModal()})},null,2),V(" Backward "),b("div",{class:A(["control_btn","secondary_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[2]||(n[2]=l=>o.setPlayerPosition(t.player,t.options.chunk,t.sharedRefs.currentTime,t.sharedRefs.currentTime.value-5))}," -5s ",2),V(" Play/Pause "),b("div",{ref:"playpause_btn",class:A(["control_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[3]||(n[3]=l=>o.togglePlayer(t.id,t.player,t.options.chunk,t.sharedRefs.currentTime))},null,2),V(" Forward "),b("div",{class:A(["control_btn","secondary_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[4]||(n[4]=l=>o.setPlayerPosition(t.player,t.options.chunk,t.sharedRefs.currentTime,t.sharedRefs.currentTime.value+5))}," +5s ",2),V(" Add Comment "),b("div",{ref:"showCommentInput_btn",class:A(["commentInput_btn","control_btn",t.sharedRefs.isCommentInputShown.value&&"disabled"]),onClick:n[5]||(n[5]=l=>t.sharedRefs.isCommentInputShown.value=!0)},null,2)]),V(" Comment Input "),ue(o.CommentInput,{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs,options:t.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"])],2),V(" Comments List "),ue(o.CommentList,{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs,options:t.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"])])}Co.render=Oi;Co.__file="src/components/Layout/LayoutBig.vue";var xi=Co;var ee=require("obsidian");var To=de({__name:"LayoutGeek",props:{id:{type:String,required:!0},source:{type:String,required:!0},container:{type:null,required:!0},ctx:{type:null,required:!0},audioSource:{type:String,required:!0},player:{type:null,required:!0},obsidianApp:{type:null,required:!0},sharedRefs:{type:Object,required:!0},options:{type:null,required:!0}},setup(e,{expose:n}){n();let t=e,o=R(null),r=R(null),s=R(null),i=R(null),a=R(null),l=R(null),f=R(null),d=R(null),p=R(null),g=R(null),E=R(null);ae(async()=>{o.value&&(0,ee.setIcon)(o.value,"audio-lines"),r.value&&(0,ee.setIcon)(r.value,"play"),s.value&&(0,ee.setIcon)(s.value,"bookmark-plus"),i.value&&(0,ee.setIcon)(i.value,"settings-2"),a.value&&((0,ee.setIcon)(a.value,"repeat"),(0,ee.setTooltip)(a.value,"Loop")),l.value&&((0,ee.setIcon)(l.value,"square-play"),(0,ee.setTooltip)(l.value,"Autoplay")),f.value&&((0,ee.setIcon)(f.value,"shield"),(0,ee.setTooltip)(f.value,"Unstoppable")),d.value&&((0,ee.setIcon)(d.value,"pin"),(0,ee.setTooltip)(d.value,"Sticky")),g.value&&((0,ee.setIcon)(g.value,"volume-2"),(0,ee.setTooltip)(g.value,"Volume")),E.value&&((0,ee.setIcon)(E.value,"gauge"),(0,ee.setTooltip)(E.value,"Playback speed")),setTimeout(()=>{x()},50),t.player&&(t.player.addEventListener("timeupdate",Y),t.player.addEventListener("play",O),t.player.addEventListener("pause",W))}),$e(()=>{en(t.ctx,t.container,t.obsidianApp,t.options),t.player.removeEventListener("timeupdate",Y),t.player.removeEventListener("play",O),t.player.removeEventListener("pause",W)});let H=ie(()=>No(t.source,t.options.title)),M=ie(()=>Number(t.options.volume).toFixed(1)),k=ie(()=>Number(t.options.speed).toFixed(1));function x(){t.options.chunk.startTime==0?((0,ee.setIcon)(p.value,"arrow-left-to-line"),(0,ee.setTooltip)(p.value,"Chunk: Select start")):t.options.chunk.endTime==Math.floor(t.sharedRefs.maxDuration.value)?((0,ee.setIcon)(p.value,"arrow-right-to-line"),(0,ee.setTooltip)(p.value,"Chunk: Select end")):((0,ee.setIcon)(p.value,"fold-horizontal"),(0,ee.setTooltip)(p.value,"Chunk: Delete"))}function S(){t.options.chunk.startTime==0?t.options.chunk.startTime=Math.floor(t.player.currentTime):t.options.chunk.endTime==Math.floor(t.sharedRefs.maxDuration.value)?t.player.currentTime>t.options.chunk.startTime&&(t.options.chunk.endTime=Math.floor(t.player.currentTime)):t.options.chunk={startTime:0,endTime:Math.floor(t.sharedRefs.maxDuration.value)},x()}function F(){!isNaN(t.sharedRefs.currentTime.value)&&t.player&&(t.player.currentTime=t.sharedRefs.currentTime.value)}function Y(){var re;t.sharedRefs.currentTime.value=t.player.currentTime,t.sharedRefs.currentTime.value>((re=t.options.chunk)==null?void 0:re.endTime)&&t.player.dispatchEvent(new Event("ended",{bubbles:!0}))}function O(){(0,ee.setIcon)(r.value,"pause")}function W(){(0,ee.setIcon)(r.value,"play")}let le={props:t,titleIcon:o,playpause_btn:r,showCommentInput_btn:s,showProperties_btn:i,loop_toggle:a,autoplay_toggle:l,unstoppable_toggle:f,sticky_toggle:d,chunk_btn:p,volume_icon:g,speed_icon:E,title:H,volume:M,speed:k,setupChunkBnt:x,manageChunk:S,eventTimeBarInput:F,eventTimeUpdate:Y,eventPlayerPlay:O,eventPlayerPause:W,CommentInput:zt,CommentList:Xt,get PropertiesModal(){return bt},get displayCurrentTime(){return Zt},get displayDuration(){return Qt},get togglePlayer(){return yt},get setPlayerPosition(){return Me},get pausePlayer(){return be}};return Object.defineProperty(le,"__isScriptSetup",{enumerable:!1,value:!0}),le}});var gc={class:"layout--geek"},_c={class:A(["audiobox-title"])},yc={ref:"titleIcon"},vc={class:A(["main-controls-container"])},Ec={class:A(["timeline-number"])},bc={class:A(["controls-container"])},Nc={class:A(["timeline-number"])},wc=["min","max"],Cc={class:"row"},Tc={class:"row"},Oc={class:"inrow"},xc={ref:"volume_icon"},Sc={class:"label"},Ac={class:"inrow"},Dc={ref:"speed_icon"},Rc={class:"label"};function Si(e,n,t,o,r,s){var i,a;return Q(),ne("div",gc,[V(" Title "),Ie(b("div",_c,[b("i",yc,null,512),We(oe(o.title),1)],512),[[go,o.title]]),b("div",{ref:"stickyContainer",class:A(["main-container",t.options.sticky&&"is-sticky"])},[V(" Main Controls "),b("div",vc,[b("span",Ec,oe(o.displayCurrentTime(t.sharedRefs.currentTime.value,t.sharedRefs.maxDuration.value)),1),b("div",bc,[V(" Properties "),b("div",{ref:"showProperties_btn",class:A(["commentInput_btn","control_btn",t.sharedRefs.isCommentInputShown.value&&"disabled"]),onClick:n[0]||(n[0]=l=>{o.pausePlayer(t.player,t.sharedRefs.currentTime),new o.PropertiesModal(t.source,t.ctx,t.container,t.obsidianApp,t.sharedRefs.maxDuration.value).openPropertiesModal()})},null,2),V(" Backward "),b("div",{class:A(["control_btn","secondary_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[1]||(n[1]=l=>o.setPlayerPosition(t.player,t.options.chunk,t.sharedRefs.currentTime,t.sharedRefs.currentTime.value-5))}," -5s ",2),V(" Play/Pause "),b("div",{ref:"playpause_btn",class:A(["control_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[2]||(n[2]=l=>o.togglePlayer(t.id,t.player,t.options.chunk,t.sharedRefs.currentTime))},null,2),V(" Forward "),b("div",{class:A(["control_btn","secondary_btn",t.sharedRefs.isCommentInputShown.value&&!t.options.unstoppable&&"disabled"]),onClick:n[3]||(n[3]=l=>o.setPlayerPosition(t.player,t.options.chunk,t.sharedRefs.currentTime,t.sharedRefs.currentTime.value+5))}," +5s ",2),V(" Add Comment "),b("div",{ref:"showCommentInput_btn",class:A(["commentInput_btn","control_btn",t.sharedRefs.isCommentInputShown.value&&"disabled"]),onClick:n[4]||(n[4]=l=>t.sharedRefs.isCommentInputShown.value=!0)},null,2)]),b("span",Nc,oe(o.displayDuration(t.options.chunk,t.sharedRefs.maxDuration.value)),1)]),V(" Timeline "),b("div",{class:A(["timeline-container",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[Ie(b("input",{type:"range",min:(i=t.options.chunk)==null?void 0:i.startTime,max:(a=t.options.chunk)==null?void 0:a.endTime,step:"0.1","onUpdate:modelValue":n[5]||(n[5]=l=>t.sharedRefs.currentTime.value=l),onInput:o.eventTimeBarInput},null,40,wc),[[tt,t.sharedRefs.currentTime.value]])],2),V(" Secondary Controls "),b("div",{class:A(["secondary-controls-container",t.sharedRefs.isCommentInputShown.value&&"disabled"])},[V(" 1\xB0 Row "),b("div",Cc,[V(" Loop "),b("i",{ref:"loop_toggle",class:A({active:t.options.loop}),onClick:n[6]||(n[6]=l=>t.options.loop=!t.options.loop)},null,2),V(" Autoplay "),b("i",{ref:"autoplay_toggle",class:A({active:t.options.autoplay}),onClick:n[7]||(n[7]=l=>t.options.autoplay=!t.options.autoplay)},null,2),V(" Unstoppable "),b("i",{ref:"unstoppable_toggle",class:A({active:t.options.unstoppable}),onClick:n[8]||(n[8]=l=>t.options.unstoppable=!t.options.unstoppable)},null,2),V(" Sticky "),b("i",{ref:"sticky_toggle",class:A({active:t.options.sticky}),onClick:n[9]||(n[9]=l=>t.options.sticky=!t.options.sticky)},null,2),V(" Chunk "),b("i",{ref:"chunk_btn",onClick:o.manageChunk},null,512)]),V(" 2\xB0 Row "),b("div",Tc,[V(" Volume "),b("div",Oc,[b("i",xc,null,512),Ie(b("input",{type:"range",min:"0.1",max:"1",step:"0.1","onUpdate:modelValue":n[10]||(n[10]=l=>t.options.volume=l),onChange:n[11]||(n[11]=l=>t.player.volume=t.options.volume)},null,544),[[tt,t.options.volume]]),b("span",Sc,oe(o.volume),1)]),V(" Speed "),b("div",Ac,[b("i",Dc,null,512),Ie(b("input",{type:"range",min:"0.3",max:"4",step:"0.1","onUpdate:modelValue":n[12]||(n[12]=l=>t.options.speed=l),onChange:n[13]||(n[13]=l=>t.player.playbackRate=t.options.speed)},null,544),[[tt,t.options.speed]]),b("span",Rc,oe(o.speed),1)])])],2),V(" Comment Input "),ue(o.CommentInput,{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs,options:t.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"])],2),V(" Comments List "),ue(o.CommentList,{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:t.sharedRefs,options:t.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"])])}To.render=Si;To.__file="src/components/Layout/LayoutGeek.vue";var Ai=To;var Sr=["mp3","wav","ogg","flac","mp4","m4a","webm"],Oo=[{name:"Default",component:Ti},{name:"Big",component:xi},{name:"Geek",component:Ai}];var Le={source:"",chunk:{startTime:0,endTime:0},volume:.5,speed:1,loop:!1,layout:0,sticky:!1,title:void 0,autoplay:!1,unstoppable:!1};function Di(){return ht({source:"",chunk:ht({startTime:0,endTime:0}),volume:.5,speed:1,loop:!1,layout:0,sticky:!1,title:void 0,autoplay:!1,unstoppable:!1})}var bt=class extends fe.Modal{constructor(n,t,o,r,s){super(r),this.source=n,this.ctx=t,this.container=o,this.totalDuration=s,this.init()}async init(){this.options=Nt(this.source,this.totalDuration),this.options.chunk||(this.options.chunk={startTime:0,endTime:0});let{contentEl:n}=this;new fe.Setting(n).setName("Audio preferences").setHeading(),new fe.Setting(n).setName("Volume").then(r=>{let s=r.settingEl.createEl("span",{text:this.options.volume.toFixed(1),cls:"slider-display"});r.addSlider(i=>{i.setLimits(0,1,.1).setValue(this.options.volume).setInstant(!0).onChange(a=>{this.options.volume=a,s.textContent=a.toFixed(1)})}),r.controlEl.appendChild(s)}),new fe.Setting(n).setName("Playback speed").then(r=>{let s=r.settingEl.createEl("span",{text:this.options.speed.toFixed(1),cls:"slider-display"});r.addSlider(i=>{i.setLimits(.3,4,.1).setValue(this.options.speed).setInstant(!0).onChange(a=>{this.options.speed=a,s.textContent=a.toFixed(1)})}),r.controlEl.appendChild(s)}),new fe.Setting(n).setName("Loop").setDesc("When the track ends, it plays back from the beginning").addToggle(r=>r.setValue(this.options.loop).onChange(s=>{this.options.loop=s})),new fe.Setting(n).setName("Autoplay").setDesc("When clicking on a comment, the player is forced to play").addToggle(r=>r.setValue(this.options.autoplay).onChange(s=>{this.options.autoplay=s}));let t=null,o=null;new fe.Setting(n).setName("Chunk").setDesc("What part of the audio track to reproduce").addExtraButton(r=>r.setIcon("trash-2").onClick(()=>{t==null||t.setValue("00:00:00"),o==null||o.setValue(Ne(this.totalDuration)),this.options.chunk={startTime:0,endTime:this.totalDuration}})).addText(r=>{var i;t=r,r.inputEl.type="time",r.inputEl.step="1",r.inputEl.min="00:00:00",r.inputEl.max=Ne(this.totalDuration);let s=(i=this.options.chunk)!=null&&i.startTime?Ne(this.options.chunk.startTime):"00:00:00";r.setValue(s),r.inputEl.addEventListener("change",a=>{let l=a.target.value;o&&l>o.inputEl.value?r.setValue(s):(s=l,this.options.chunk.startTime=Jt(l),o&&(o.inputEl.min=l))})}).addText(r=>{var i;o=r,r.inputEl.type="time",r.inputEl.step="1",r.inputEl.min=t?t.inputEl.value:"00:00:00",r.inputEl.max=Ne(this.totalDuration);let s=(i=this.options.chunk)!=null&&i.endTime?Ne(this.options.chunk.endTime):Ne(this.totalDuration);r.setValue(s),r.inputEl.addEventListener("change",a=>{let l=a.target.value;t&&l<t.inputEl.value||l>r.inputEl.max?r.setValue(s):(s=l,this.options.chunk.endTime=Jt(l))})}),new fe.Setting(n).setName("Player preferences").setHeading(),new fe.Setting(n).setName("Layout").addDropdown(r=>{let s=Object.fromEntries(Oo.map((i,a)=>[a,i.name]));r.addOptions(s).setValue(String(this.options.layout)).onChange(i=>{this.options.layout=Number(i)})}),new fe.Setting(n).setName("Sticky commands").setDesc("The mains controls follow you as you scroll").addToggle(r=>r.setValue(this.options.sticky).onChange(s=>{this.options.sticky=s})),new fe.Setting(n).setName("Unstoppable").setDesc("The audio will continue playing even when adding/modifing a comment").addToggle(r=>r.setValue(this.options.unstoppable).onChange(s=>{this.options.unstoppable=s})),new fe.Setting(n).setName("Title").setDesc("Want to show a title? Leave empty to use the audio filename").then(r=>{let s=r.settingEl.createDiv();s.style.display="flex",s.style.alignItems="center";let i=s.createDiv();i.style.flex="1",i.style.display=this.options.title!==void 0?"flex":"none",new fe.Setting(i).addText(l=>{this.options.title!==void 0&&l.setValue(this.options.title),l.setPlaceholder("File name").onChange(f=>{this.options.title=f})});let a=s.createDiv();new fe.Setting(a).addToggle(l=>l.setValue(this.options.title!==void 0).onChange(f=>{f==!1?this.options.title=void 0:this.options.title="",i.style.display=f?"flex":"none"}))}),new fe.Setting(n).setHeading().addButton(r=>r.setIcon("check").onClick(()=>{en(this.ctx,this.container,this.app,this.options),this.close(),new fe.Notice("Options have been updated.")})).addButton(r=>r.setIcon("x").onClick(()=>{this.close()}))}onClose(){this.contentEl.empty()}openPropertiesModal(){this.open()}};function xo(e){let n=Object.entries(e).map(([t,o])=>{switch(t){case"source":return`source: [[${o}]]`;case"title":return o==null?"":o==""?"title: ":`title: ${o}`;case"chunk":let r=o;return r.endTime>r.startTime?`chunk: ${Ne(r==null?void 0:r.startTime)}-${Ne(r==null?void 0:r.endTime)}`:"";default:return`${t}: ${o}`}}).filter(t=>t!=="");return n.push(""),n}var Pe=(e,n=/^.*$/)=>{let t=e.split(`
`);return t?t.map(o=>{let r=n.exec(o);return r?r.length===2?r[1]:r.length>2?r.slice(1):r[0]:null}).filter(o=>o!==null):[""]};function Nt(e,n){return{source:In(e),chunk:Vc(e,n),volume:Mc(e),speed:Pc(e),loop:Ic(e),layout:Ar(e),sticky:kc(e),title:Fc(e),autoplay:Lc(e),unstoppable:Hc(e)}}async function en(e,n,t,o){let r=e.getSectionInfo(n);if(!r)return!1;let s=r.text.split(`
`),i=s.slice(r.lineStart,r.lineEnd);try{let a;for(let d=0;d<i.length;d++)if(/^\d+\s*---\s*.+$/.test(i[d])){a=d-1;break}a||(a=i.length-1);let l=xo(o);s.splice(r.lineStart+2,a-1,...l);let f=t.vault.getAbstractFileByPath(e.sourcePath);if(!f||!(f instanceof Ri.TFile))return!1;await t.vault.modify(f,s.join(`
`))}catch(a){console.error("Cannot manage properties - ",a)}return!0}function Vc(e,n=3600){let t=new RegExp("^chunk: *(\\d{2}:\\d{2}:\\d{2}) *- *(\\d{2}:\\d{2}:\\d{2})$"),o=Pe(e,t)[0];if(o!==void 0){let r=Jt(o[0]),s=Jt(o[1]);if(r>=s)console.warn("Annotate-Audio: Impossible audio chunk");else return{startTime:r,endTime:s,duration:s-r}}return{startTime:0,endTime:n,duration:n}}function kc(e){let n=new RegExp("^sticky: *(True|False)$","i"),t=String(Pe(e,n)[0]);return t?t.toLowerCase()==="true":Le.sticky}function Pc(e){let n=new RegExp("^speed: *([0-9.]*)$"),t=Number(Pe(e,n)[0]);return t?Math.round(t*10)/10:Le.speed}function Ic(e){let n=new RegExp("^loop: *(True|False)$","i"),t=String(Pe(e,n)[0]);return t?t.toLowerCase()==="true":Le.loop}function Mc(e){let n=new RegExp("^volume: *([0-9.]*)$"),t=Number(Pe(e,n)[0]);return!t||t>1?Le.volume:Math.round(t*10)/10}function Lc(e){let n=new RegExp("^autoplay: *(True|False)$","i"),t=String(Pe(e,n)[0]);return t?t.toLowerCase()==="true":Le.autoplay}function Hc(e){let n=new RegExp("^unstoppable: *(True|False)$","i"),t=String(Pe(e,n)[0]);return t?t.toLowerCase()==="true":Le.unstoppable}function Fc(e){let n=new RegExp("^title: *(.*)$"),t=Pe(e,n)[0];return t==null?Le.title:t.trim()}function In(e){let n=new RegExp("^source: *\\[\\[([^|\\]]+)\\]\\]$"),t=String(Pe(e,n)[0]);if(t)return t}function Ar(e){let n=new RegExp("^layout: *([0-9])$","i"),t=Number(Pe(e,n)[0]);return t||Le.layout}function Vi(e){let n=new RegExp("^#(\\S{16}) *$"),t=String(Pe(e,n)[0]);return t||null}var Dr=require("obsidian");var So=de({__name:"SourceSuggestion",props:{obsidianApp:{type:null,required:!0},file:{type:null,required:!0}},setup(e,{expose:n}){n();let t=e,o=R(null),r=R(null),s=R(null);yr(async()=>{let l=t.obsidianApp.vault.getResourcePath(t.file);o.value=Ne(await Gt(l))}),ae(()=>{r.value&&(0,Dr.setIcon)(r.value,"timer"),s.value&&(0,Dr.setIcon)(s.value,"calendar-days")});let i=ie(()=>new Date(t.file.stat.mtime).toLocaleDateString()),a={props:t,duration:o,durationIcon:r,dateIcon:s,getCreationDate:i};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});var Uc={class:"source-suggestion-container"},Bc={class:"filename"},jc={class:"extension"},$c={class:"metadata-container"},Wc={ref:"dateIcon"},Kc={ref:"durationIcon"};function ki(e,n,t,o,r,s){return Q(),ne("div",Uc,[b("div",null,[b("span",Bc,oe(t.file.basename),1),b("span",jc," ."+oe(t.file.extension),1)]),b("div",$c,[b("i",Wc,null,512),n[0]||(n[0]=We()),b("span",null,oe(o.getCreationDate),1),n[1]||(n[1]=We(" | ")),b("i",Kc,null,512),n[2]||(n[2]=We()),b("span",null,oe(o.duration),1)])])}So.render=ki;So.__file="src/components/SourceSuggestion.vue";var Pi=So;var ji=require("obsidian");var Mi=require("obsidian");function Ii(){return{srcPath:R(""),currentTime:R(0),maxDuration:R(void 0),commentInput:R(null),editedCommentTime:R(null),contentCommentInput:R(""),isDuplicate:R(!1),editMode:R(!1),isCommentInputShown:R(!1),resume:R(!1)}}var Ao=de({__name:"ParentApp",props:{id:{type:String,required:!0},source:{type:String,required:!0},container:{type:null,required:!0},ctx:{type:null,required:!0},audioSource:{type:String,required:!0},player:{type:null,required:!0},obsidianApp:{type:null,required:!0}},setup(e,{expose:n}){n();let t=Ii(),o=Di(),r=e;ae(async()=>{await i();let k=r.obsidianApp.vault.getAbstractFileByPath(r.audioSource);!k||!(k instanceof Mi.TFile)||(t.srcPath.value=r.obsidianApp.vault.getResourcePath(k),t.maxDuration.value=await Gt(t.srcPath.value),r.player.src=t.srcPath.value,r.player.currentTime=t.currentTime.value,r.player.volume=o.volume,r.player.playbackRate=o.speed,r.player.loop=o.loop,r.player&&r.player.addEventListener("ended",l),document.addEventListener("pause-other-players",f),document.addEventListener("pause-audiobox",d),document.addEventListener("play-audiobox",p),document.addEventListener("toggle-audiobox",g),document.addEventListener("audiobox-forward",E),document.addEventListener("audiobox-backward",H))}),$e(()=>{a(),be(r.player,t.currentTime),r.player.removeEventListener("ended",l),document.removeEventListener("pause-other-players",f),document.removeEventListener("pause-audiobox",d),document.removeEventListener("play-audiobox",p),document.removeEventListener("toggle-audiobox",g),document.removeEventListener("audiobox-forward",E),document.removeEventListener("audiobox-backward",H)});let s=ie(()=>{let k=Ar(r.source);return Oo[k].component});async function i(){var Y;let k=Nt(r.source,t.maxDuration.value),x=await Pn(k),S=localStorage.getItem(`aa_${r.id}_optionsHash`);if(x===S){let O=localStorage.getItem(`aa_${r.id}_options`);Object.assign(o,JSON.parse(O))}else Object.assign(o,k);let F=Number(localStorage.getItem(`aa_${r.id}_currentTime`));F>=o.chunk.startTime&&F<=o.chunk.endTime?(t.currentTime.value=F,localStorage.getItem(`aa_${r.id}_resume`)==="true"&&Yt(r.id,r.player,o.chunk,t.currentTime.value)):t.currentTime.value=(Y=o.chunk)==null?void 0:Y.startTime}async function a(){localStorage.setItem(`aa_${r.id}_optionsHash`,await Pn(o)),localStorage.setItem(`aa_${r.id}_options`,JSON.stringify(o)),localStorage.setItem(`aa_${r.id}_currentTime`,JSON.stringify(r.player.currentTime)),localStorage.setItem(`aa_${r.id}_resume`,JSON.stringify(t.resume.value))}function l(){var k;Me(r.player,o.chunk,t.currentTime,(k=o.chunk)==null?void 0:k.startTime),o.loop||be(r.player,t.currentTime)}let f=k=>{var S;((S=k.detail)==null?void 0:S.id)!==r.id&&be(r.player,t.currentTime)},d=k=>{var S;((S=k.detail)==null?void 0:S.id)==r.id&&be(r.player,t.currentTime)},p=k=>{var S;((S=k.detail)==null?void 0:S.id)==r.id&&Yt(r.id,r.player,o.chunk,t.currentTime.value)},g=k=>{var S;((S=k.detail)==null?void 0:S.id)==r.id&&yt(r.id,r.player,o.chunk,t.currentTime)},E=k=>{var S;((S=k.detail)==null?void 0:S.id)==r.id&&Me(r.player,o.chunk,t.currentTime,t.currentTime.value+5)},H=k=>{var S;((S=k.detail)==null?void 0:S.id)==r.id&&Me(r.player,o.chunk,t.currentTime,t.currentTime.value-5)},M={sharedRefs:t,get options(){return o},set options(k){o=k},props:r,currentLayoutComponent:s,loadCacheOrFallback:i,saveCache:a,eventEndedAudio:l,eventPauseOtherPlayers:f,eventPausePlayer:d,eventPlayPlayer:p,eventTogglePlayer:g,eventForwardPlayer:E,eventBackwardPlayer:H};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}});function Li(e,n,t,o,r,s){return Q(),ne(Ee,null,[V(" Dynamic Layout "),(Q(),Dn(Ps(o.currentLayoutComponent),{id:t.id,source:t.source,container:t.container,ctx:t.ctx,audioSource:t.audioSource,player:t.player,obsidianApp:t.obsidianApp,sharedRefs:o.sharedRefs,options:o.options},null,8,["id","source","container","ctx","audioSource","player","obsidianApp","sharedRefs","options"]))],2112)}Ao.render=Li;Ao.__file="src/components/ParentApp.vue";var Hi=Ao;var Fi=require("obsidian");var Do=de({__name:"404",props:{source:{type:String,required:!0},container:{type:null,required:!0},ctx:{type:null,required:!0},obsidianApp:{type:null,required:!0}},setup(e,{expose:n}){n();let t=R(null),o=e;ae(()=>{t.value&&(0,Fi.setIcon)(t.value,"disc-3")});async function r(){let i=Nt(o.ctx,o.container,0,o.source);i.source=await new tn(o.obsidianApp).openWithPromise(),en(o.ctx,o.container,o.obsidianApp,i)}let s={disk_icon:t,props:o,eventAddSource:r};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});var qc={class:"layout--404"},Gc={class:"main_content"},Yc={ref:"disk_icon"};function Ui(e,n,t,o,r,s){return Q(),ne("div",qc,[b("div",{onClick:o.eventAddSource},[b("div",Gc,[b("span",Yc,null,512),n[0]||(n[0]=We("Invalid/Absent audio source "))]),n[1]||(n[1]=b("div",{class:"minor"},"Click to select",-1))])])}Do.render=Ui;Do.__file="src/components/404.vue";var Bi=Do;var Ro=class extends ji.MarkdownRenderChild{constructor(n,t){super(n.container),this.container=n.container,this.onUnload=t,this.audioboxId=n.id;let o=n.audioSource?Hi:Bi;this.vueApp=yo(o,{id:n.id,source:n.source,container:n.container,audioSource:n.audioSource,ctx:n.ctx,player:n.player,obsidianApp:n.obsidianApp})}onload(){this.vueApp.mount(this.container)}onunload(){this.onUnload(this.audioboxId),this.vueApp.unmount()}};var Vo=class extends He.Plugin{constructor(){super(...arguments);this.audioboxList=new Map;this.lastInteractedAudioboxId=null}async onload(){this.addCommand({id:"add-audio-box",name:"Add audiobox",editorCallback:async t=>{let o=Le,r=new Uint8Array(8);crypto.getRandomValues(r);let s=Array.from(r,p=>p.toString(16).padStart(2,"0")).join("");o.source=await new tn(this.app).openWithPromise();let i=this.app.metadataCache.getFirstLinkpathDest(o.source,""),a=this.app.vault.getResourcePath(i);o.chunk={startTime:0,endTime:await Gt(a)};let l=xo(Le).join(`
`),f="```annotate-audio\n#"+s+`
`+l+"\n```\n",d=t.getCursor();t.replaceSelection(f)}}),this.addCommand({id:"add-comment",name:"Insert comment",checkCallback:t=>{if(!this.lastInteractedAudioboxId)return!1;if(!t){let o=new CustomEvent("add-comment",{detail:{id:this.lastInteractedAudioboxId}});document.dispatchEvent(o)}return!0}}),this.addCommand({id:"pause-audiobox",name:"Pause audiobox",checkCallback:t=>{var o;if(!this.lastInteractedAudioboxId||(o=this.audioboxList.get(this.lastInteractedAudioboxId))!=null&&o.paused)return!1;if(!t){let r=new CustomEvent("pause-audiobox",{detail:{id:this.lastInteractedAudioboxId}});document.dispatchEvent(r),new He.Notice("Audiobox has been paused")}return!0}}),this.addCommand({id:"play-audiobox",name:"Play audiobox",checkCallback:t=>{var o;if(!this.lastInteractedAudioboxId||!((o=this.audioboxList.get(this.lastInteractedAudioboxId))!=null&&o.paused))return!1;if(!t){let r=new CustomEvent("play-audiobox",{detail:{id:this.lastInteractedAudioboxId}});document.dispatchEvent(r),new He.Notice("Audiobox is playing")}return!0}}),this.addCommand({id:"toggle-audiobox",name:"Toggle audiobox",checkCallback:t=>{if(!this.lastInteractedAudioboxId)return!1;if(!t){let o=new CustomEvent("toggle-audiobox",{detail:{id:this.lastInteractedAudioboxId}});document.dispatchEvent(o),new He.Notice("Audiobox has been toggled")}return!0}}),this.addCommand({id:"audiobox-forward",name:"Move forward",checkCallback:t=>{if(!this.lastInteractedAudioboxId)return!1;if(!t){let o=new CustomEvent("audiobox-forward",{detail:{id:this.lastInteractedAudioboxId}});document.dispatchEvent(o),new He.Notice("Audiobox is moving forward")}return!0}}),this.addCommand({id:"audiobox-backward",name:"Move backward",checkCallback:t=>{if(!this.lastInteractedAudioboxId)return!1;if(!t){let o=new CustomEvent("audiobox-backward",{detail:{id:this.lastInteractedAudioboxId}});document.dispatchEvent(o),new He.Notice("Audiobox is moving backward")}return!0}}),this.registerMarkdownCodeBlockProcessor("annotate-audio",(t,o,r)=>{let s="",i=In(t);if(i){let d=this.app.metadataCache.getFirstLinkpathDest((0,He.getLinkpath)(i),i);d&&Sr.includes(d.extension)&&(s=d.path)}let a=Vi(t);if(!a){console.error("No ID");return}let l;this.audioboxList.has(a)?l=this.audioboxList.get(a):(l=document.createElement("audio"),this.audioboxList.set(a,l));let f=o.createDiv({cls:"annotate-audio-container",attr:{"data-audio-id":a,tabindex:0}});f.appendChild(l),f.addEventListener("click",()=>{this.lastInteractedAudioboxId=a}),r.addChild(new Ro({id:a,source:t,container:f,audioSource:s,ctx:r,player:l,obsidianApp:this.app},d=>{let p=this.audioboxList.get(d);p&&(p.pause(),p.remove(),this.audioboxList.delete(d)),this.lastInteractedAudioboxId===d&&(this.lastInteractedAudioboxId=null)}))})}onunload(){Object.values(this.audioboxList).forEach(t=>{t.pause(),t.remove(),t.source=""}),this.audioboxList.clear(),this.lastInteractedAudioboxId=null}},tn=class extends He.SuggestModal{constructor(t){super(t);this.vueSuggestions=new Map;this.setPlaceholder("Select an audio file")}getSuggestions(t){return this.app.vault.getFiles().filter(o=>Sr.includes(o.extension)?o.basename.toLowerCase().includes(t.toLowerCase()):!1)}renderSuggestion(t,o){let r=yo(Pi,{obsidianApp:this.app,file:t});r.mount(o),this.vueSuggestions.set(o,r)}onClose(){this.vueSuggestions.forEach(t=>t.unmount()),this.vueSuggestions.clear()}onChooseSuggestion(t,o){let r=this.app.metadataCache.fileToLinktext(t,t.path);this.sourcePromise(r),this.close()}openWithPromise(){return this.open(),new Promise(t=>{this.sourcePromise=t})}};
/*! Bundled license information:

@vue/shared/dist/shared.esm-bundler.js:
  (**
  * @vue/shared v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/reactivity/dist/reactivity.esm-bundler.js:
  (**
  * @vue/reactivity v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)

@vue/runtime-core/dist/runtime-core.esm-bundler.js:
  (**
  * @vue/runtime-core v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)

@vue/runtime-core/dist/runtime-core.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/runtime-core/dist/runtime-core.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/runtime-core/dist/runtime-core.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/runtime-dom/dist/runtime-dom.esm-bundler.js:
  (**
  * @vue/runtime-dom v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)

@vue/runtime-dom/dist/runtime-dom.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/runtime-dom/dist/runtime-dom.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)

vue/dist/vue.runtime.esm-bundler.js:
  (**
  * vue v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
*/

/* nosourcemap */